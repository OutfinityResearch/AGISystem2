# Initialization & Bootstrap Specification

Purpose: define files and steps to initialize the engine with stable dimensions, relations, and base theories across profiles (auto_test/manual_test/prod).

## Bootstrap Artifacts
- `data/init/dimensions.json`: derived from `.specs/knowledge/dimensions.md`; lists ontology/axiology axes and reserved ranges.
- `data/init/relations.json`: defaults from `.specs/knowledge/default_relations.md` (names, inverses, characteristics).
- `data/init/config_profile.json`: profile selection (`auto_test`, `manual_test`, `prod`) with seeds and storageRoot.
- Theory layer JSON definitions, currently `data/init/law_minimal.theory.json` and `data/init/physics_test.theory.json`, with the schema described in `scripts/build_theories.js` (kind, id, dimensions, overrides).
- Binary theory overlays produced from those JSON files by running `node scripts/build_theories.js data/init/*.theory.json`. The resulting files (for example, `data/init/law_minimal.theory.bin`) follow the binary format referenced in `.specs/support/storage.js.md` and are consumed by `StorageAdapter` and `TheoryStack`.
- A future `data/init/base_theory.bin` root layer with invariants (see `.specs/knowledge/base_theories.md`) may be added once the base theory is materialised; until then, tests rely on the minimal layers above.

## Load Order
1) Load config/profile; set dimensions/partitions, seeds, index/persistence strategies.
2) Load dimensions catalog (for validation/reference).
3) Register default relations via `RelationPermuter.bootstrapDefaults` using `relations.json`.
4) Load the root/base theory overlay if present (for example, `base_theory.bin`); push into `TheoryStack`.
5) Load additional test or domain layers from the binary files generated by `scripts/build_theories.js` (for example, `law_minimal.theory.bin`, `physics_test.theory.bin`); keep them inactive until requested by the API or tests.

## Seeds and Determinism
- Seeds come from config (`relationSeed`, `rotationSeed`, `lshSeed`); log in `AuditLog`.
- Profiles set defaults; overrides are explicit.

## Example Bootstrap (auto_test)
- Profile: `auto_test` (512 dims, recursion=2, simhash, memory).
- Load relations, base theory, test layers: `law_minimal`, `physics_test`.
- Active stack: `[base_theory]` by default.

## Example Bootstrap (prod)
- Profile: `prod` (2048 dims, recursion=3, LSH p-stable, file_binary `./data`).
- Load relations, base theory.
- Load domain layers (e.g., `finance_base.bin`, `safety_base.bin`) as configured; keep inactive until set by API.

## Notes
- File formats: JSON for metadata; binary for theories (min/max/radius/masks) sized to configured dimensions.
- Audit log should record versions/hashes of loaded init files.***
