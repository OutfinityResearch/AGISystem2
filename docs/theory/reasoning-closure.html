<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>STAR / UNSTAR: Closure Primitives (Research) - Theory - AGISystem2</title>
  <link rel="stylesheet" href="../reference/style.css">
  <style>
    .concept-box {
      background: linear-gradient(135deg, #ede7f6 0%, #d1c4e9 100%);
      border-left: 4px solid #5e35b1;
      padding: 18px 20px;
      margin: 18px 0;
      border-radius: 0 8px 8px 0;
    }
    .concept-box h4 { margin-top: 0; color: #4527a0; }
    .definition {
      background: #e3f2fd;
      border: 1px solid #90caf9;
      padding: 14px 18px;
      border-radius: 8px;
      margin: 14px 0;
    }
    .definition strong { color: #1565c0; }
    .research-box {
      background: #fff3e0;
      border: 1px solid #ffb74d;
      padding: 14px 18px;
      border-radius: 8px;
      margin: 14px 0;
    }
    .code-block {
      background: #263238;
      color: #e8eaf6;
      padding: 16px;
      border-radius: 8px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      overflow-x: auto;
      margin: 14px 0;
      font-size: 13px;
      line-height: 1.35;
    }
    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
    }
    .comparison-table th, .comparison-table td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: left;
      vertical-align: top;
    }
    .comparison-table th {
      background: #5e35b1;
      color: white;
    }
    .comparison-table tr:nth-child(even) {
      background: #f6f3fb;
    }
  </style>
</head>
<body>
  <div class="page">
  <div class="nav-header">
    <h1>STAR / UNSTAR: Closure Primitives (Research)</h1>
    <small>
      <a href="../index.html">Home</a> &middot;
      <a href="index.html">Theory</a> &middot;
      <a href="holographic.html">Holographic Reasoning</a> &middot;
      <a href="deterministic-vectors.html">Deterministic Vectors</a>
    </small>
    <small>Research: turning one-shot UNBIND into bounded closure (forward + backward)</small>
  </div>

  <div class="section-intro">
    <p>This page describes a proposed research upgrade to AGISystem2’s reasoning toolbox: <strong>STAR</strong> and <strong>UNSTAR</strong>. These are not new HDC operations; they are <em>engine primitives</em> that repeatedly apply a strategy-provided “step” function to approximate forward saturation (closure) or reverse explanation search.</p>
  </div>

  <div class="research-box">
    <strong>Status:</strong> research / proposed (not implemented). This is a direction for improving multi-step holographic reasoning under explicit budgets and with strategy-specific scoring/indexing.
  </div>

  <h2>1. The Reasoning Equation, Extended</h2>

  <p>AGISystem2’s holographic path is often summarized as:</p>

  <div class="definition">
    <strong>One-shot pattern</strong>
    <div class="code-block">Answer ≈ UNBIND(KB, QueryKey)  → decode/cleanup → candidates</div>
    <p><code>QueryKey</code> is “what you already know” (relation + bound arguments). UNBIND produces a residual that must be mapped back to entities/facts by a strategy-aware decoder.</p>
  </div>

  <p>STAR generalizes this by treating the residuals as new states that can be stepped again:</p>

  <div class="definition">
    <strong>STAR (forward closure)</strong>
    <div class="code-block">state0 = seed
state1.. = STEP.forward(state0)
state2.. = STEP.forward(state1)
...
repeat until fixpoint or budget</div>
  </div>

  <p>UNSTAR is the reverse analogue: step backwards from a goal-state to enumerate plausible preconditions/explanations.</p>

  <h2>2. Why this is interesting</h2>

  <div class="concept-box">
    <h4>Intuition</h4>
    <p>One-shot UNBIND can recover “the missing piece” when the KB contains a directly matching structure. Multi-step inference needs chaining: the thing you recovered becomes part of a new query. STAR/UNSTAR provide a standard place to do that chaining with consistent budgets and metrics.</p>
  </div>

  <h2>3. What the engine needs: a StepOperator</h2>

  <p>STAR/UNSTAR are strategy-agnostic loops. The strategy (and session context) provide the step function and optional normalization:</p>

  <div class="code-block">type State = HVec

type Candidate = {
  state: State
  score: number
  witnesses?: number
  provenance?: unknown
}

interface StepOperator {
  forwardStep(state: State): Candidate[]
  backwardStep?(state: State): Candidate[]
  normalize?(state: State): State
  fingerprint?(state: State): string
}</div>

  <h2>4. EXACT vs Dense: “closure” means different things</h2>

  <table class="comparison-table">
    <tr>
      <th>Strategy family</th>
      <th>Forward step</th>
      <th>What STAR approximates</th>
      <th>Key requirement</th>
    </tr>
    <tr>
      <td><strong>EXACT</strong> (lossless)</td>
      <td>Subset-match facts and emit residuals (quotient-like UNBIND)</td>
      <td>Can behave like true closure (enumeration) under realistic budgets</td>
      <td>Posting-list / bitset index to avoid O(|KB|) scans</td>
    </tr>
    <tr>
      <td><strong>Dense / Metric-Affine / EMA</strong> (approx)</td>
      <td>UNBIND + decode via similarity (top-K candidates)</td>
      <td>Beam-search closure: “best derivations under a budget”</td>
      <td>Pruning/thresholds are essential; dedup is approximate</td>
    </tr>
  </table>

  <h2>5. Where this fits</h2>

  <p>STAR/UNSTAR are meant as internal research primitives that can later support higher-level Session APIs (batch Q/A, proof-to-NL, RAG-style retrieval over theories), without forcing every task to fall back to fully symbolic search.</p>

  <div class="definition">
    <strong>Next step (engine integration)</strong>
    <p>See <a href="../specsLoader.html?spec=DS/DS40-Holographic-Priority-Closure-Tactics-RESEARCH.md">DS40</a> for a proposal to integrate STAR/UNSTAR as <em>closure tactics</em> inside the existing HDC-first engine (budgets, caching, strategy-aware step operators), rather than creating a separate reasoning engine.</p>
  </div>

  <div class="footer-nav">
    <p>
      <a href="index.html">&larr; Back to Theory</a> &middot;
      <a href="../specsLoader.html?spec=DS/DS39-Reasoning-Closure-STAR-UNSTAR-RESEARCH.md">DS39 Specification &rarr;</a>
    </p>
  </div>
  </div>
</body>
</html>
