<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Guides - AGISystem2</title>
  <link rel="stylesheet" href="../reference/style.css">
</head>
<body>
  <div class="page">
  <div class="nav-header">
    <h1>Conceptual Guides</h1>
    <small>
      <a href="../index.html">Home</a> &middot;
      <a href="../architecture/index.html">Architecture</a> &middot;
      <a href="../theory/index.html">Theory</a> &middot;
      <a href="../syntax/index.html">Syntax</a> &middot;
      <a href="../api/index.html">APIs</a> &middot;
      <a href="../wiki/index.html">Wiki</a> &middot;
      <a href="../specs/matrix.html">Specs</a>
    </small>
    <small>In-depth guides for advanced topics</small>
  </div>

  <div class="section-intro">
    <p>These guides explain key concepts and patterns for building trustworthy AI systems with AGISystem2. Each guide includes theory, examples, and best practices.</p>
  </div>

  <h2>Available Guides</h2>

  <div class="section-grid">
    <div class="section-card">
      <h3>Geometric Reasoning</h3>
      <p>Understanding how knowledge is represented and queried in high-dimensional vector spaces.</p>
      <ul>
        <li>Why high dimensions work</li>
        <li>The binding equation</li>
        <li>Query mechanics</li>
        <li>Confidence interpretation</li>
      </ul>
    </div>

    <div class="section-card">
      <h3>Theory Layering</h3>
      <p>Building modular, composable knowledge bases with stacked theories.</p>
      <ul>
        <li>Theory architecture</li>
        <li>Import and export</li>
        <li>Namespace management</li>
        <li>Versioning strategies</li>
      </ul>
    </div>

    <div class="section-card">
      <h3>Explainability</h3>
      <p>Generating human-readable explanations with full provenance tracking.</p>
      <ul>
        <li>Proof trace structure</li>
        <li>Natural language generation</li>
        <li>Audit trail management</li>
        <li>Replay and verification</li>
      </ul>
    </div>

    <div class="section-card">
      <h3>LLM Integration</h3>
      <p>Combining AGISystem2 with Large Language Models for enhanced capabilities.</p>
      <ul>
        <li>Complementary strengths</li>
        <li>Trust boundaries</li>
        <li>Elaboration patterns</li>
        <li>Hybrid architectures</li>
      </ul>
    </div>

    <div class="section-card">
      <h3><a href="hdc-strategies.html">HDC Strategies</a></h3>
      <p>Creating custom hyperdimensional computing implementations.</p>
      <ul>
        <li>Strategy contract</li>
        <li>Implementation guide</li>
        <li>Validation and testing</li>
        <li>Benchmarking</li>
        <li><a href="sphdc-comparison.html">SPHDC vs Dense Binary</a></li>
      </ul>
    </div>
  </div>

  <h2>Guide: Geometric Reasoning</h2>

  <h3>Why High Dimensions Work</h3>

  <p>In high-dimensional spaces (32,768+ dimensions), random vectors are almost orthogonal to each other. This "blessing of dimensionality" provides:</p>

  <ul>
    <li><strong>Unlimited symbols:</strong> Any new concept gets a unique, non-interfering representation</li>
    <li><strong>Content-addressable memory:</strong> Similar queries retrieve similar facts</li>
    <li><strong>Noise tolerance:</strong> Small errors don't significantly affect similarity</li>
  </ul>

  <div class="diagram-container">
    <div class="diagram-title">Similarity Distribution in High Dimensions</div>
    <svg viewBox="0 0 600 200" xmlns="http://www.w3.org/2000/svg">
      <!-- Axes -->
      <line x1="80" y1="160" x2="520" y2="160" stroke="#333" stroke-width="2"/>
      <line x1="80" y1="160" x2="80" y2="30" stroke="#333" stroke-width="2"/>

      <!-- Bell curve -->
      <path d="M100 158 Q200 158 250 80 Q300 20 350 80 Q400 158 500 158" fill="none" stroke="#1976d2" stroke-width="3"/>

      <!-- Area fill -->
      <path d="M100 158 Q200 158 250 80 Q300 20 350 80 Q400 158 500 158 L500 160 L100 160 Z" fill="#e3f2fd" opacity="0.5"/>

      <!-- Labels -->
      <text x="80" y="175" font-size="10" fill="#666">0.0</text>
      <text x="295" y="175" font-size="10" fill="#666">0.5</text>
      <text x="510" y="175" font-size="10" fill="#666">1.0</text>
      <text x="300" y="195" text-anchor="middle" font-size="11" fill="#333">Similarity</text>

      <!-- Mean marker -->
      <line x1="300" y1="20" x2="300" y2="160" stroke="#e91e63" stroke-width="1" stroke-dasharray="5,5"/>
      <text x="305" y="40" font-size="10" fill="#e91e63">mean = 0.5</text>

      <!-- Spread annotation -->
      <text x="400" y="100" font-size="10" fill="#666">99% within</text>
      <text x="400" y="115" font-size="10" fill="#666">[0.492, 0.508]</text>
    </svg>
  </div>

  <h3>The Binding Equation</h3>

  <p>All queries reduce to the fundamental equation:</p>

  <pre><code>Answer = KB XOR Partial_Query

where Partial_Query = everything known in the query
      Answer = the unknown bindings</code></pre>

  <h3>Query Mechanics Step by Step</h3>

  <ol>
    <li><strong>Parse:</strong> Identify holes (?variables) in the query</li>
    <li><strong>Build Partial:</strong> Bind operator with known arguments (skip holes)</li>
    <li><strong>Unbind:</strong> XOR the partial from the KB</li>
    <li><strong>Extract:</strong> Remove position markers from candidates</li>
    <li><strong>Match:</strong> Find most similar atoms in vocabulary</li>
    <li><strong>Score:</strong> Calculate confidence from similarities</li>
  </ol>

  <h3>Confidence Interpretation</h3>

  <table>
    <tr>
      <th>Score</th>
      <th>Meaning</th>
      <th>Recommended Action</th>
    </tr>
    <tr>
      <td>> 0.80</td>
      <td>Strong match</td>
      <td>Trust the result</td>
    </tr>
    <tr>
      <td>0.65 - 0.80</td>
      <td>Good match</td>
      <td>Probably correct, verify if critical</td>
    </tr>
    <tr>
      <td>0.55 - 0.65</td>
      <td>Weak match</td>
      <td>Multiple interpretations possible</td>
    </tr>
    <tr>
      <td>< 0.55</td>
      <td>No match</td>
      <td>Query failed, don't use result</td>
    </tr>
  </table>

  <h2>Guide: Theory Layering</h2>

  <h3>Theory Architecture</h3>

  <p>Theories are self-contained knowledge modules that can be stacked:</p>

  <div class="diagram-container">
    <div class="diagram-title">Theory Stack</div>
    <svg viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
      <rect x="100" y="20" width="200" height="40" rx="5" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
      <text x="200" y="45" text-anchor="middle" font-size="12">Domain Theory</text>

      <rect x="100" y="70" width="200" height="40" rx="5" fill="#e8f5e9" stroke="#4caf50" stroke-width="2"/>
      <text x="200" y="95" text-anchor="middle" font-size="12">Intermediate Theory</text>

      <rect x="100" y="120" width="200" height="40" rx="5" fill="#fff3e0" stroke="#ff9800" stroke-width="2"/>
      <text x="200" y="145" text-anchor="middle" font-size="12">Core Theory</text>

      <text x="320" y="45" font-size="10" fill="#666">Commerce, Physics...</text>
      <text x="320" y="95" font-size="10" fill="#666">Types, Roles...</text>
      <text x="320" y="145" font-size="10" fill="#666">Atoms, Logic...</text>

      <path d="M200 60 L200 70" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
      <path d="M200 110 L200 120" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
    </svg>
  </div>

  <h3>Best Practices</h3>

  <ul>
    <li><strong>Single Responsibility:</strong> Each theory should cover one domain</li>
    <li><strong>Explicit Exports:</strong> Only export atoms that downstream theories need</li>
    <li><strong>Geometry Consistency:</strong> Use the same geometry across related theories</li>
    <li><strong>Documentation:</strong> Include comments explaining each atom's purpose</li>
  </ul>

  <h2>Guide: Explainability</h2>

  <h3>Proof Trace Structure</h3>

  <p>Every proof generates a complete trace that can be replayed:</p>

  <pre><code>ProofTrace {
  goal: "isA Socrates Mortal",
  method: "rule",
  rule: "humans_are_mortal",
  premises: [
    {
      goal: "isA Socrates Human",
      method: "direct",
      kbMatch: true,
      confidence: 0.95
    }
  ],
  timestamp: "2024-01-15T10:30:00Z",
  duration_ms: 12
}</code></pre>

  <h3>Generating Explanations</h3>

  <ol>
    <li><strong>Decode:</strong> Extract structure from result vector</li>
    <li><strong>Template:</strong> Look up phrasing template for operator</li>
    <li><strong>Fill:</strong> Replace slots with decoded arguments</li>
    <li><strong>Refine:</strong> Optionally improve fluency with LLM</li>
  </ol>

  <h2>Guide: LLM Integration</h2>

  <h3>Complementary Strengths</h3>

  <table>
    <tr>
      <th>Capability</th>
      <th>LLM</th>
      <th>AGISystem2</th>
    </tr>
    <tr>
      <td>Natural Language</td>
      <td>Excellent</td>
      <td>Template-based</td>
    </tr>
    <tr>
      <td>Determinism</td>
      <td>None</td>
      <td>100%</td>
    </tr>
    <tr>
      <td>Explainability</td>
      <td>Limited</td>
      <td>Full traces</td>
    </tr>
    <tr>
      <td>Factual Accuracy</td>
      <td>Hallucinations</td>
      <td>Verified KB</td>
    </tr>
    <tr>
      <td>Creativity</td>
      <td>Excellent</td>
      <td>Rule-based</td>
    </tr>
  </table>

  <h3>Integration Pattern</h3>

  <pre><code>// Use LLM for natural language input
const userQuery = "Who sold the car to Bob?";
const dsl = await llm.translate(userQuery);  // LLM generates DSL

// Use AGISystem2 for reasoning
const result = session.query(dsl);  // Deterministic, verifiable

// Use LLM for fluent output
const explanation = session.elaborate(result, { useLLM: true });
// LLM improves style only, cannot change facts</code></pre>

  <h3>Trust Boundaries</h3>

  <div class="alert alert-warning">
    <strong>LLM is for STYLE only, never CONTENT</strong>
    <ul>
      <li>LLM may improve grammar and flow</li>
      <li>LLM must NOT add, remove, or change facts</li>
      <li>All entities from the source must appear in output</li>
      <li>Validation rejects LLM output that fails these checks</li>
    </ul>
  </div>

  <h2>Coming Soon</h2>

  <ul>
    <li>Performance Tuning Guide</li>
    <li>Compliance Pattern Guide</li>
    <li>Testing and Validation Guide</li>
    <li>Deployment Guide</li>
  </ul>

  <div class="footer-nav">
    <p>For specific technical details, see the <a href="../specs/DS/DS00-Vision.md">Design Specifications</a>.</p>
  </div>
  </div>
</body>
</html>
