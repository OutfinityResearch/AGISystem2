<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Command Line Interfaces</title>
  <link rel="stylesheet" href="../reference/style.css">
</head>
<body>
  <div class="page">
  <div class="nav-header">
    <h1>AGISystem2 – Command Line Interfaces</h1>
    <small>
      <a href="../index.html">Home</a> ·
      <a href="../guides/conceptual_spaces.html">Theory</a> ·
      <a href="../architecture/index.html">Architecture</a> ·
      <a href="../api/index.html">APIs</a> ·
      <a href="../syntax/index.html">Syntax</a> ·
      <a href="index.html">CLI</a> ·
      <a href="../wiki/index.html">Wiki</a> ·
      <a href="../specs/matrix.html">Specs</a>
    </small>
    <div class="sub-nav">
      <strong>CLI Topics:</strong>
      <a href="index.html">Overview</a> ·
      <a href="raw-cli.html">Raw CLI</a> ·
      <a href="chat-cli.html">Chat Interface</a>
    </div>
  </div>

  <p>AGISystem2 provides two distinct command-line interfaces, each designed for different use cases. Both interfaces share the same underlying engine and knowledge store, but differ in how users interact with them and what level of control they offer.</p>

  <div class="diagram">
    <svg viewBox="0 0 500 220" role="img" aria-label="Two CLI modes: Raw CLI for automation and Chat for natural language">
      <defs>
        <marker id="arrow-cli" markerWidth="6" markerHeight="6" refX="5" refY="3" orient="auto" markerUnits="strokeWidth">
          <path d="M0,0 L6,3 L0,6 z" fill="#0f4c81" />
        </marker>
      </defs>

      <!-- User icon -->
      <circle cx="50" cy="110" r="20" fill="#e1ecf7" stroke="#0f4c81" stroke-width="2"/>
      <text x="50" y="115" font-size="10" fill="#0f4c81" text-anchor="middle">User</text>

      <!-- Raw CLI path -->
      <rect x="110" y="30" width="140" height="60" rx="6" fill="#f5f7fb" stroke="#0f4c81" stroke-width="2"/>
      <text x="180" y="50" font-size="11" font-weight="bold" fill="#0f4c81" text-anchor="middle">Raw CLI</text>
      <text x="180" y="65" font-size="8" fill="#4a5670" text-anchor="middle">node cli/agisystem2-cli.js</text>
      <text x="180" y="78" font-size="7" fill="#4a5670" text-anchor="middle">Structured commands</text>

      <!-- Chat CLI path -->
      <rect x="110" y="130" width="140" height="60" rx="6" fill="#f5f7fb" stroke="#2e7d32" stroke-width="2"/>
      <text x="180" y="150" font-size="11" font-weight="bold" fill="#2e7d32" text-anchor="middle">Chat Interface</text>
      <text x="180" y="165" font-size="8" fill="#4a5670" text-anchor="middle">AGISystem2.sh</text>
      <text x="180" y="178" font-size="7" fill="#4a5670" text-anchor="middle">Natural language + LLM</text>

      <!-- Engine core -->
      <rect x="290" y="60" width="100" height="100" rx="8" fill="#e1ecf7" stroke="#0f4c81" stroke-width="2"/>
      <text x="340" y="95" font-size="10" font-weight="bold" fill="#0f4c81" text-anchor="middle">AGISystem2</text>
      <text x="340" y="110" font-size="8" fill="#4a5670" text-anchor="middle">Engine Core</text>
      <text x="340" y="125" font-size="7" fill="#4a5670" text-anchor="middle">Sys2DSL Execution</text>
      <text x="340" y="138" font-size="7" fill="#4a5670" text-anchor="middle">Knowledge Store</text>

      <!-- Storage -->
      <rect x="420" y="85" width="70" height="50" rx="4" fill="#fff" stroke="#b0b6c4" stroke-width="1"/>
      <text x="455" y="105" font-size="8" fill="#4a5670" text-anchor="middle">.AGISystem2/</text>
      <text x="455" y="118" font-size="7" fill="#4a5670" text-anchor="middle">data &amp; theories</text>

      <!-- Arrows -->
      <line x1="70" y1="100" x2="108" y2="60" stroke="#0f4c81" stroke-width="1.5" marker-end="url(#arrow-cli)"/>
      <line x1="70" y1="120" x2="108" y2="160" stroke="#2e7d32" stroke-width="1.5" marker-end="url(#arrow-cli)"/>
      <line x1="250" y1="60" x2="288" y2="90" stroke="#0f4c81" stroke-width="1.5" marker-end="url(#arrow-cli)"/>
      <line x1="250" y1="160" x2="288" y2="130" stroke="#2e7d32" stroke-width="1.5" marker-end="url(#arrow-cli)"/>
      <line x1="390" y1="110" x2="418" y2="110" stroke="#b0b6c4" stroke-width="1" marker-end="url(#arrow-cli)"/>

      <!-- Labels -->
      <text x="85" y="70" font-size="7" fill="#0f4c81">Structured</text>
      <text x="85" y="155" font-size="7" fill="#2e7d32">Natural</text>
    </svg>
    <p class="diagram-caption">Both CLI interfaces connect to the same AGISystem2 engine core. The Raw CLI accepts structured Sys2DSL commands directly, while the Chat interface uses an LLM to translate natural language into the same underlying commands.</p>
  </div>

  <h2>Two Modes, Different Purposes</h2>

  <table class="comparison-table">
    <thead>
      <tr>
        <th>Aspect</th>
        <th>Raw CLI (cli/agisystem2-cli.js)</th>
        <th>Chat Interface (AGISystem2.sh)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Input Style</strong></td>
        <td>Structured commands and canonical syntax</td>
        <td>Natural language (any language)</td>
      </tr>
      <tr>
        <td><strong>Primary Use</strong></td>
        <td>Testing, automation, scripting, CI/CD</td>
        <td>Exploration, demonstration, learning</td>
      </tr>
      <tr>
        <td><strong>Dependencies</strong></td>
        <td>Node.js only</td>
        <td>Node.js + LLM API (OpenAI, Anthropic, etc.)</td>
      </tr>
      <tr>
        <td><strong>Determinism</strong></td>
        <td>Fully deterministic, reproducible</td>
        <td>LLM introduces variability in parsing</td>
      </tr>
      <tr>
        <td><strong>Batch Mode</strong></td>
        <td>Full support (--batch, --exec, --json)</td>
        <td>Interactive only</td>
      </tr>
      <tr>
        <td><strong>Learning Curve</strong></td>
        <td>Requires understanding Sys2DSL syntax</td>
        <td>Minimal – just type naturally</td>
      </tr>
      <tr>
        <td><strong>Control Level</strong></td>
        <td>Fine-grained, exact commands</td>
        <td>High-level, intent-based</td>
      </tr>
    </tbody>
  </table>

  <h2>When to Use Each Interface</h2>

  <h3>Use the Raw CLI When:</h3>
  <ul>
    <li><strong>Automating tests</strong> – Write reproducible test scripts that verify reasoning behavior</li>
    <li><strong>Building integrations</strong> – Script interactions for CI/CD pipelines or other tools</li>
    <li><strong>Precise control</strong> – Need exact Sys2DSL commands with predictable results</li>
    <li><strong>No external dependencies</strong> – Work offline without LLM API costs</li>
    <li><strong>Auditing and compliance</strong> – Every command and result is deterministic and logged</li>
  </ul>

  <h3>Use the Chat Interface When:</h3>
  <ul>
    <li><strong>Exploring the system</strong> – Learn what AGISystem2 can do through conversation</li>
    <li><strong>Quick demonstrations</strong> – Show capabilities without teaching syntax</li>
    <li><strong>Building knowledge interactively</strong> – Teach facts in natural language</li>
    <li><strong>Prototyping theories</strong> – Quickly test ideas before formalizing them</li>
    <li><strong>Non-technical users</strong> – Allow domain experts to interact without coding</li>
  </ul>

  <h2>The Library Approach</h2>

  <p>Both command-line interfaces are convenience wrappers around the AGISystem2 JavaScript library. For production applications, most integrations will use the library directly through the <a href="../api/index.html">APIs</a>:</p>

  <pre>
const AgentSystem2 = require('agisystem2');

// Create engine instance
const agent = new AgentSystem2({ profile: 'prod' });
const session = agent.createSession();

// Execute commands programmatically
session.run(['@f Dog IS_A Animal']);
const result = session.run(['@q Dog IS_A Animal']);
console.log(result.q.truth); // TRUE_CERTAIN</pre>

  <p>The library approach provides:</p>
  <ul>
    <li>Full programmatic control over all engine features</li>
    <li>Direct integration with application logic</li>
    <li>Custom session management and theory layering</li>
    <li>Event hooks for reasoning steps</li>
    <li>Memory-efficient batch operations</li>
  </ul>

  <p>See the <a href="../api/index.html">API Reference</a> for complete documentation of the library interface.</p>

  <h2>Quick Start</h2>

  <div class="two-column">
    <div class="column">
      <h3>Raw CLI Quick Start</h3>
      <pre>
# Start interactive session
node cli/agisystem2-cli.js

# Add facts
AGIS2&gt; add Dog IS_A Animal
AGIS2&gt; add Cat IS_A Animal

# Ask questions
AGIS2&gt; ask Is Dog an Animal?
Result: TRUE_CERTAIN

# Batch mode
node cli/agisystem2-cli.js --exec "add Fire CAUSES Smoke" --json</pre>
      <p><a href="raw-cli.html">Full Raw CLI Documentation →</a></p>
    </div>
    <div class="column">
      <h3>Chat Interface Quick Start</h3>
      <pre>
# Start chat (requires LLM API key)
export OPENAI_API_KEY="sk-..."
./bin/AGISystem2.sh

# Natural conversation
You: Dogs are mammals that bark
AI: Got it! I've learned 2 fact(s):
    - Dog IS_A Mammal
    - Dog HAS_PROPERTY barks

You: Is a dog an animal?
AI: Yes, based on what I know...</pre>
      <p><a href="chat-cli.html">Full Chat Documentation →</a></p>
    </div>
  </div>

  <h2>Shared State</h2>

  <p>Both interfaces work with the same <code>.AGISystem2/</code> directory structure in the current working directory:</p>

  <pre>
.AGISystem2/
├── data/           # Concept storage, binary blobs
│   ├── concepts/   # Bounded diamond data
│   └── audit/      # Operation logs
└── theories/       # Theory files (.sys2dsl, .txt)
    ├── health_compliance.sys2dsl
    ├── law_minimal.sys2dsl
    └── scifi_magic.sys2dsl</pre>

  <p>Facts and theories created in one interface are immediately available in the other. This allows workflows like:</p>
  <ol>
    <li>Use Chat interface to interactively build initial knowledge base</li>
    <li>Export theory with <code>/theories</code> or <code>save theory</code></li>
    <li>Use Raw CLI for automated testing of that theory</li>
    <li>Return to Chat for exploratory questions</li>
  </ol>

  <div class="footer-nav">
    <a href="../index.html">Back to index</a> ·
    <a href="raw-cli.html">Raw CLI Details</a> ·
    <a href="chat-cli.html">Chat Interface Details</a>
  </div>
  </div>
  <script src="../reference/nav2.js"></script>
</body>
</html>
