<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Syntax – Facts and Questions</title>
  <link rel="stylesheet" href="../reference/style.css">
</head>
<body>
  <div class="page">
  <div class="nav-header">
    <h1>Facts and Questions</h1>
  </div>
  <p>Facts and questions in AGISystem2 are expressed exclusively through Sys2DSL, not as “free” text lines. Every fact or question is an instruction of the form <code>@var ACTION ...</code> inside a session or a theory file.</p>

  <h2>Facts in Sys2DSL (ASSERT)</h2>
  <p>A fact is a Sys2DSL instruction that binds a variable to a canonical triple <code>Subject REL Object</code> and inserts it into the active theory.</p>

  <p>General form:</p>
  <pre><code>@f1 ASSERT subject REL object</code></pre>

  <p>Examples of basic facts:</p>
  <pre><code>@f1 ASSERT Dog IS_A Animal
@f2 ASSERT Water BOILS_AT Celsius100
@f3 ASSERT Celsius100 IS_A temperature
@f4 ASSERT surgery_x REQUIRES consent
@f5 ASSERT export_data PROHIBITED_BY GDPR</code></pre>
  <p><strong>Note:</strong> Properties like boiling point are expressed using specific relations (e.g., <code>BOILS_AT</code>) that connect subjects to value concepts (e.g., <code>Celsius100</code>). This keeps values as first-class concepts that can be reasoned about independently.</p>

  <p>Conventions for tokens in the parameter list:</p>
  <ul>
    <li>a word starting with a lowercase letter (<code>dog</code>, <code>water</code>, <code>export_data</code>) is treated as a concept name;</li>
    <li>a word starting with an uppercase letter (<code>Alice</code>, <code>CityX</code>) is treated as an individual or concrete instance;</li>
    <li>a word starting with <code>$</code> (<code>$factList</code>) is a reference to a variable already defined in the script.</li>
  </ul>

  <p><code>ASSERT</code> instructions are the only ones that introduce new facts into the session theory; there is no implicit ingestion of “bare” lines. You may have multiple instructions in the same script; each <code>@</code> marks the start of a new statement, even if they appear on the same line.</p>

  <h2>Yes/No Questions (ASK)</h2>
  <p>Questions are also Sys2DSL instructions, but instead of modifying the theory they bind a variable to a “truth object” that holds the result of reasoning. The form is:</p>
  <pre><code>@q1 ASK "question-text?"</code></pre>

  <p><code>question-text</code> is a string that follows the constrained grammar. For natural language it usually ends in <code>?</code>, but for canonical triples the trailing <code>?</code> is optional because the <code>ASK</code> action already marks the statement as a question.</p>
  <ul>
    <li>simple natural‑language questions, normalised by the translator, such as:
      <pre><code>@q1 ASK "Is Dog an Animal?"
@q2 ASK "Is Water a Substance?"</code></pre>
    </li>
    <li>canonical triples written as strings, for example:
      <pre><code>@q3 ASK "Dog IS_A Animal"
@q4 ASK "Water BOILS_AT Celsius100"
@q5 ASK "export_data PROHIBITED_BY GDPR"</code></pre>
    </li>
  </ul>

  <p>In all cases, the result is stored in the variable <code>@qN</code> and can be read or combined by other instructions (for example in more complex Sys2DSL programmes). There is no separate sugar mode: questions always go through <code>@var ASK ...</code>.</p>

  <h2>Counterfactual Questions (CF)</h2>
  <p>Counterfactuals use a dedicated action but remain a single Sys2DSL instruction. General form:</p>
  <pre><code>@cfVar CF "question-text" | Fact1 ; Fact2 ; ...</code></pre>

  <p>Simple example (asking "what if water boiled at 50°C?"):</p>
  <pre><code>@cf CF "Water BOILS_AT Celsius50"
     | Water BOILS_AT Celsius50</code></pre>

  <p>The list of assumptions after <code>|</code> uses the same “Subject REL Object” grammar as <code>ASSERT</code>, separated by <code>;</code> when there are multiple facts. Internally, the engine treats these facts as a temporary theory layer for the given question, without modifying the session’s base theory.</p>

  <h2>Combining Facts and Questions in One Script</h2>
  <p>A typical Sys2DSL script that mixes facts and questions looks like this:</p>
  <pre><code>@f1 ASSERT Dog IS_A Animal
@f2 ASSERT Water BOILS_AT Celsius100
@f3 ASSERT Celsius100 IS_A temperature
@q1 ASK "Is Dog an Animal?"
@q2 ASK "Water BOILS_AT Celsius100"</code></pre>

  <p>You can write the same instructions on a single line, for example:</p>
  <pre><code>@f1 ASSERT Dog IS_A Animal @q1 ASK "Is Dog an Animal?"</code></pre>

  <p>The interpreter splits the script at each <code>@</code>, builds the dependency graph between variables and executes the instructions in a topological order so that <code>$</code> references are resolved correctly even if they appear “earlier” in the text.</p>

  <h2>Summary</h2>
  <p>In the new syntax, facts and questions never appear as independent lines; they are always expressed as Sys2DSL instructions of the form <code>@var ASSERT ...</code>, <code>@var ASK ...</code> or <code>@var CF ...</code>. This guarantees a single, analyzable interaction form that is easy to compose into theory programmes.</p>

  <h2>References</h2>
  <p>For implementation details, see the relevant design specifications (referenced by ID):</p>
  <ul>
    <li>DS[/theory/dsl_engine.js] – Sys2DSL interpreter and the <code>ASSERT</code>, <code>ASK</code>, <code>CF</code> actions.</li>
    <li>DS[/ingest/parser.js] – grammar for <code>Subject REL Object</code> triples.</li>
    <li>DS[/interface/system2_session.js] – how Sys2DSL scripts are sent to and evaluated inside a session.</li>
  </ul>

  <div class="footer-nav">
    <a href="index.html">Back to Syntax overview</a>
    <a href="../index.html">Back to index</a>
  </div>
  </div>
  <script src="nav.js"></script>
</body>
</html>
