<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>AGISystem2 – Documentation</title>
  <link rel="stylesheet" href="reference/style.css">
</head>
<body>
  <div class="page">
  <div class="nav-header">
    <h1>AGISystem2 – Hyperdimensional Reasoning Engine</h1>
    <small>
      <a href="index.html">Home</a> ·
      <a href="architecture/index.html">Architecture</a> ·
      <a href="theory/index.html">Theory</a> ·
      <a href="syntax/index.html">Syntax</a> ·
      <a href="api/index.html">APIs</a> ·
      <a href="specs/matrix.html">Specs</a> ·
      <a href="research/index.html">Research</a>
    </small>
    <small>Neuro-symbolic reasoning with hyperdimensional computing</small>
  </div>

  <div class="section-intro">
    <p>AGISystem2 is a <strong>Hyperdimensional Reasoning Engine</strong> for neuro-symbolic AI. It represents concepts, facts, relations and rules as high-dimensional vectors and executes reasoning through a formally defined DSL with full explainability.</p>
  </div>

  <h2>Key Features</h2>
  <ul>
    <li><strong>Deterministic Reasoning:</strong> Reproducible, explainable results with proof traces.</li>
    <li><strong>Multi-Strategy HDC:</strong> Pluggable vector representations (dense binary, sparse polynomial, etc.).</li>
    <li><strong>Transitive Chains:</strong> Automatic inference across taxonomies and spatial relations.</li>
    <li><strong>Backward Chaining:</strong> Rule-based reasoning with And/Or conditions.</li>
    <li><strong>Natural Language Output:</strong> DSL results converted to human-readable text.</li>
  </ul>

  <h2>Core Concepts</h2>
  <table class="matrix-table">
    <tr>
      <td><strong>Hypervectors</strong></td>
      <td>High-dimensional binary vectors (default 32,768 bits) representing concepts in geometric space. Operations: bind (XOR), bundle (majority), similarity (Hamming).</td>
    </tr>
    <tr>
      <td><strong>DSL Syntax</strong></td>
      <td>Statements have form <code>@dest operator arg1 arg2 ...</code> or <code>operator arg1 arg2</code> for anonymous facts.</td>
    </tr>
    <tr>
      <td><strong>HDC Strategies</strong></td>
      <td>Two implementations: <code>dense-binary</code> (2048-bit vectors) and <code>sparse-polynomial</code> (SPHDC with k=4 exponents). Both achieve 100% eval accuracy. Set via <code>SYS2_HDC_STRATEGY</code> env var. See <a href="research/index.html">Research</a> for comparison.</td>
    </tr>
    <tr>
      <td><strong>Sessions</strong></td>
      <td>Runtime contexts that load theories, accumulate facts in KB, and execute queries/proofs.</td>
    </tr>
    <tr>
      <td><strong>Theories</strong></td>
      <td>Reusable .sys2 files with facts and rules. Core theories define taxonomy, logic, and modal operators.</td>
    </tr>
  </table>

  <h2>HDC Strategy Architecture</h2>
  <div style="max-width: 700px; margin: 20px auto;">
    <svg viewBox="0 0 700 320" xmlns="http://www.w3.org/2000/svg" style="width: 100%; height: auto;">
      <!-- Background -->
      <rect x="10" y="10" width="680" height="300" rx="15" fill="#f5f5f5" stroke="#ddd" stroke-width="2"/>

      <!-- Layer 4: Application -->
      <rect x="30" y="30" width="640" height="50" rx="8" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
      <text x="350" y="50" text-anchor="middle" font-weight="bold" font-size="13" fill="#1565c0">Layer 4: Application</text>
      <text x="350" y="68" text-anchor="middle" font-size="11" fill="#333">DSL Parser · Session API · Natural Language Output</text>

      <!-- Layer 3: Reasoning -->
      <rect x="30" y="90" width="640" height="50" rx="8" fill="#e8f5e9" stroke="#4caf50" stroke-width="2"/>
      <text x="350" y="110" text-anchor="middle" font-weight="bold" font-size="13" fill="#2e7d32">Layer 3: Reasoning Engine</text>
      <text x="350" y="128" text-anchor="middle" font-size="11" fill="#333">Query · Prove · Transitive Chains · Rule Inference</text>

      <!-- Layer 2: Contract (bold separator) -->
      <rect x="30" y="150" width="640" height="50" rx="8" fill="#fff3e0" stroke="#ff9800" stroke-width="3"/>
      <text x="350" y="170" text-anchor="middle" font-weight="bold" font-size="13" fill="#e65100">Layer 2: HDC Operations Interface</text>
      <text x="350" y="188" text-anchor="middle" font-size="11" fill="#333">bind() · bundle() · similarity() · createFromName()</text>
      <text x="670" y="175" text-anchor="end" font-size="10" fill="#ff9800" font-weight="bold">CONTRACT</text>

      <!-- Separator line -->
      <line x1="30" y1="210" x2="670" y2="210" stroke="#ff9800" stroke-width="4" stroke-dasharray="10,5"/>
      <text x="350" y="223" text-anchor="middle" font-size="10" fill="#666">═══ SWAPPABLE IMPLEMENTATION ═══</text>

      <!-- Layer 1: Strategies -->
      <rect x="30" y="235" width="640" height="60" rx="8" fill="#fce4ec" stroke="#e91e63" stroke-width="2"/>
      <text x="350" y="255" text-anchor="middle" font-weight="bold" font-size="13" fill="#c2185b">Layer 1: HDC Strategy Implementation</text>

      <!-- Strategy boxes -->
      <rect x="60" y="265" width="180" height="22" rx="4" fill="#1976d2" stroke="#0d47a1"/>
      <text x="150" y="280" text-anchor="middle" font-size="10" fill="white" font-weight="bold">dense-binary (2048 bits)</text>

      <rect x="260" y="265" width="180" height="22" rx="4" fill="#4caf50" stroke="#2e7d32"/>
      <text x="350" y="280" text-anchor="middle" font-size="10" fill="white" font-weight="bold">sparse-polynomial (k=4)</text>

      <rect x="460" y="265" width="180" height="22" rx="4" fill="#9e9e9e" stroke="#616161"/>
      <text x="550" y="280" text-anchor="middle" font-size="10" fill="white">future strategies...</text>

      <text x="670" y="255" text-anchor="end" font-size="10" fill="#e91e63" font-weight="bold">SWAPPABLE</text>
    </svg>
  </div>

  <h2>Documentation Sections</h2>

  <div class="section-grid">
    <div class="section-card">
      <h3><a href="architecture/index.html">Architecture</a></h3>
      <p>System layers: HDC core, runtime (Session, Executor), reasoning (Query, Prove), parser, and output generation.</p>
    </div>

    <div class="section-card">
      <h3><a href="theory/index.html">Foundational Theory</a></h3>
      <p>Hyperdimensional computing principles: vector space algebra, bind/bundle operations, similarity metrics.</p>
    </div>

    <div class="section-card">
      <h3><a href="syntax/index.html">DSL Syntax</a></h3>
      <p>Language reference: statements, operators, macros, theories, and Core theory definitions.</p>
    </div>

    <div class="section-card">
      <h3><a href="api/index.html">APIs</a></h3>
      <p>Session API: learn(), query(), prove(), generateText(), elaborate(). HDC Facade: bind(), bundle(), similarity().</p>
    </div>

    <div class="section-card">
      <h3><a href="specs/matrix.html">Specifications</a></h3>
      <p>Design specs (DS01-DS17), evaluation suites, and test coverage matrix.</p>
    </div>

    <div class="section-card">
      <h3><a href="guides/index.html">Guides</a></h3>
      <p>Conceptual guides: geometric reasoning, theory layering, <a href="guides/hdc-strategies.html">HDC strategies</a>, LLM integration.</p>
    </div>

    <div class="section-card" style="background: linear-gradient(135deg, #667eea22 0%, #764ba222 100%);">
      <h3><a href="research/index.html">Research</a></h3>
      <p>Experimental findings: HDC strategy stress testing, SPHDC vs Dense-Binary comparison, k-parameter optimization.</p>
    </div>
  </div>

  <h2>Quick Start</h2>
  <pre><code>import { Session } from './src/runtime/session.mjs';

// Create session (loads Core theories automatically)
const session = new Session({ geometry: 32768 });

// Learn facts
session.learn(`
  isA Dog Animal
  isA Rex Dog
`);

// Query
const result = session.query('@q isA Rex ?what');
console.log(result.bindings.get('what').answer); // "Dog"

// Prove with transitive reasoning
const proof = session.prove('@goal isA Rex Animal');
console.log(proof.valid);  // true
console.log(proof.method); // "transitive_chain"

// Generate natural language
const text = session.generateText('isA', ['Rex', 'Animal']);
console.log(text); // "Rex is an animal."</code></pre>

  <h2>DSL Syntax Quick Reference</h2>
  <table class="matrix-table">
    <tr><th>Form</th><th>In Scope</th><th>In KB</th><th>Use Case</th></tr>
    <tr>
      <td><code>operator arg1 arg2</code></td>
      <td>No</td>
      <td><strong>Yes</strong></td>
      <td>Simple facts (anonymous, auto-persisted)</td>
    </tr>
    <tr>
      <td><code>@var operator arg1 arg2</code></td>
      <td><strong>Yes</strong></td>
      <td>No</td>
      <td>Temporary variable (for references)</td>
    </tr>
    <tr>
      <td><code>@var:name operator arg1 arg2</code></td>
      <td><strong>Yes</strong></td>
      <td><strong>Yes</strong></td>
      <td>Named persistent fact</td>
    </tr>
  </table>

  <h3>Building Complex Rules</h3>
  <p><strong>Note:</strong> Parenthesized compound expressions are NOT supported. Complex rules are built by defining parts as separate statements, then referencing them:</p>
  <pre><code># WRONG (not supported):
# @rule Implies (And $cond1 $cond2) $conclusion

# CORRECT:
@cond1 hasState Door Open
@cond2 isA Door Entrance
@combined And $cond1 $cond2
@conclusion canEnter Person Door
@rule Implies $combined $conclusion</code></pre>

  <h2>Environment Variables</h2>
  <table class="matrix-table">
    <tr>
      <td><code>SYS2_HDC_STRATEGY</code></td>
      <td>HDC implementation to use. Default: <code>dense-binary</code></td>
    </tr>
    <tr>
      <td><code>SYS2_GEOMETRY</code></td>
      <td>Default vector geometry. Default: <code>32768</code> (must be divisible by 32)</td>
    </tr>
    <tr>
      <td><code>SYS2_DEBUG</code></td>
      <td>Enable debug logging. Set to <code>true</code> for verbose output.</td>
    </tr>
  </table>

  <h2>Benchmarking HDC Strategies</h2>
  <pre><code>import { benchmarkStrategy, printBenchmark } from './src/hdc/facade.mjs';

const results = benchmarkStrategy('dense-binary', 8192, { iterations: 1000 });
printBenchmark(results);

// Output:
// === HDC Strategy Benchmark ===
// Strategy: dense-binary
// Geometry: 8192
// Operations:
// ────────────────────────────────────────
// bind           0.002 ms    650K ops/sec
// similarity     0.004 ms    250K ops/sec
// bundle         0.195 ms      5K ops/sec
// ────────────────────────────────────────</code></pre>

  <h2>Specification Documents</h2>
  <ul>
    <li><a href="specsLoader.html?spec=DS01-Theoretical-Foundation.md">DS01 – Theoretical Foundation</a></li>
    <li><a href="specsLoader.html?spec=DS03-Architecture.md">DS03 – Architecture</a></li>
    <li><a href="specsLoader.html?spec=DS09-Core-HDC.md">DS09 – HDC Core Implementation</a></li>
    <li><a href="specsLoader.html?spec=DS_map.md">DS – Full Specification Map</a></li>
  </ul>

  <div class="footer-nav">
    <p>AGISystem2 provides deterministic, explainable reasoning with full proof traces. Current eval score: <strong>100%</strong> (126/126 tests passing on both HDC strategies).</p>
    <p style="margin-top: 10px;">
      <a href="https://github.com/OutfinityResearch/AGISystem2/" target="_blank" style="color: #1976d2;">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle; margin-right: 5px;">
          <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
        </svg>
        GitHub: OutfinityResearch/AGISystem2
      </a>
    </p>
  </div>
  </div>

  <style>
    .matrix-table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
    }
    .matrix-table td {
      border: 1px solid #ddd;
      padding: 12px;
      vertical-align: top;
    }
    .matrix-table td:first-child {
      width: 180px;
      background: #f5f5f5;
      font-family: 'Consolas', 'Monaco', monospace;
    }
    .section-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    .section-card {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .section-card h3 {
      margin-top: 0;
    }
    .section-card h3 a {
      color: #1976d2;
      text-decoration: none;
    }
    .section-card h3 a:hover {
      text-decoration: underline;
    }
    pre {
      background: #f5f5f5;
      padding: 15px;
      border-radius: 5px;
      overflow-x: auto;
      font-size: 13px;
    }
    code {
      font-family: 'Consolas', 'Monaco', monospace;
    }
    .section-intro {
      background: #e3f2fd;
      padding: 15px 20px;
      border-radius: 8px;
      margin: 15px 0;
    }
  </style>
</body>
</html>
