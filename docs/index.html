<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>AGISystem2 – Documentation</title>
  <link rel="stylesheet" href="reference/style.css">
</head>
<body>
  <div class="page">
  <div class="nav-header">
    <h1>AGISystem2 – Hyperdimensional Reasoning Engine</h1>
    <small>
      <a href="index.html">Home</a> ·
      <a href="architecture/index.html">Architecture</a> ·
      <a href="theory/index.html">Theory</a> ·
      <a href="syntax/index.html">Syntax</a> ·
      <a href="api/index.html">APIs</a> ·
      <a href="specs/matrix.html">Specs</a>
    </small>
    <small>Neuro-symbolic reasoning with hyperdimensional computing</small>
  </div>

  <div class="section-intro">
    <p>AGISystem2 is a <strong>Hyperdimensional Reasoning Engine</strong> for neuro-symbolic AI. It represents concepts, facts, relations and rules as high-dimensional vectors and executes reasoning through a formally defined DSL with full explainability.</p>
  </div>

  <h2>Key Features</h2>
  <ul>
    <li><strong>Deterministic Reasoning:</strong> Reproducible, explainable results with proof traces.</li>
    <li><strong>Multi-Strategy HDC:</strong> Pluggable vector representations (dense binary, sparse polynomial, etc.).</li>
    <li><strong>Transitive Chains:</strong> Automatic inference across taxonomies and spatial relations.</li>
    <li><strong>Backward Chaining:</strong> Rule-based reasoning with And/Or conditions.</li>
    <li><strong>Natural Language Output:</strong> DSL results converted to human-readable text.</li>
  </ul>

  <h2>Core Concepts</h2>
  <table class="matrix-table">
    <tr>
      <td><strong>Hypervectors</strong></td>
      <td>High-dimensional binary vectors (default 32,768 bits) representing concepts in geometric space. Operations: bind (XOR), bundle (majority), similarity (Hamming).</td>
    </tr>
    <tr>
      <td><strong>DSL Syntax</strong></td>
      <td>Statements have form <code>@dest operator arg1 arg2 ...</code> or <code>operator arg1 arg2</code> for anonymous facts.</td>
    </tr>
    <tr>
      <td><strong>HDC Strategies</strong></td>
      <td>Pluggable implementations: <code>dense-binary</code> (default), with support for future strategies like sparse polynomial. Set via <code>SYS2_HDC_STRATEGY</code> env var.</td>
    </tr>
    <tr>
      <td><strong>Sessions</strong></td>
      <td>Runtime contexts that load theories, accumulate facts in KB, and execute queries/proofs.</td>
    </tr>
    <tr>
      <td><strong>Theories</strong></td>
      <td>Reusable .sys2 files with facts and rules. Core theories define taxonomy, logic, and modal operators.</td>
    </tr>
  </table>

  <h2>HDC Strategy Architecture</h2>
  <pre><code>┌─────────────────────────────────────────────────────────┐
│  Layer 4: Application (DSL, Session API)                │
│  ─────────────────────────────────────────────────────  │
│  Layer 3: Reasoning (Query, Prove, Rules)               │
│  ─────────────────────────────────────────────────────  │
│  Layer 2: HDC Operations Interface (bind, bundle, sim)  │  ← CONTRACT
│  ═══════════════════════════════════════════════════════│
│  Layer 1: HDC Implementation Strategy                   │  ← SWAPPABLE
│           ├── dense-binary (Uint32Array, XOR, majority) │
│           └── [future: sparse-polynomial, bigint, etc.] │
└─────────────────────────────────────────────────────────┘</code></pre>

  <h2>Documentation Sections</h2>

  <div class="section-grid">
    <div class="section-card">
      <h3><a href="architecture/index.html">Architecture</a></h3>
      <p>System layers: HDC core, runtime (Session, Executor), reasoning (Query, Prove), parser, and output generation.</p>
    </div>

    <div class="section-card">
      <h3><a href="theory/index.html">Foundational Theory</a></h3>
      <p>Hyperdimensional computing principles: vector space algebra, bind/bundle operations, similarity metrics.</p>
    </div>

    <div class="section-card">
      <h3><a href="syntax/index.html">DSL Syntax</a></h3>
      <p>Language reference: statements, operators, macros, theories, and Core theory definitions.</p>
    </div>

    <div class="section-card">
      <h3><a href="api/index.html">APIs</a></h3>
      <p>Session API: learn(), query(), prove(), generateText(), elaborate(). HDC Facade: bind(), bundle(), similarity().</p>
    </div>

    <div class="section-card">
      <h3><a href="specs/matrix.html">Specifications</a></h3>
      <p>Design specs (DS01-DS17), evaluation suites, and test coverage matrix.</p>
    </div>

    <div class="section-card">
      <h3><a href="guides/index.html">Guides</a></h3>
      <p>Conceptual guides: geometric reasoning, theory layering, <a href="guides/hdc-strategies.html">HDC strategies</a>, LLM integration.</p>
    </div>
  </div>

  <h2>Quick Start</h2>
  <pre><code>import { Session } from './src/runtime/session.mjs';

// Create session (loads Core theories automatically)
const session = new Session({ geometry: 32768 });

// Learn facts
session.learn(`
  isA Dog Animal
  isA Rex Dog
`);

// Query
const result = session.query('@q isA Rex ?what');
console.log(result.bindings.get('what').answer); // "Dog"

// Prove with transitive reasoning
const proof = session.prove('@goal isA Rex Animal');
console.log(proof.valid);  // true
console.log(proof.method); // "transitive_chain"

// Generate natural language
const text = session.generateText('isA', ['Rex', 'Animal']);
console.log(text); // "Rex is an animal."</code></pre>

  <h2>DSL Syntax Quick Reference</h2>
  <table class="matrix-table">
    <tr><th>Form</th><th>In Scope</th><th>In KB</th><th>Use Case</th></tr>
    <tr>
      <td><code>operator arg1 arg2</code></td>
      <td>No</td>
      <td><strong>Yes</strong></td>
      <td>Simple facts (anonymous, auto-persisted)</td>
    </tr>
    <tr>
      <td><code>@var operator arg1 arg2</code></td>
      <td><strong>Yes</strong></td>
      <td>No</td>
      <td>Temporary variable (for references)</td>
    </tr>
    <tr>
      <td><code>@var:name operator arg1 arg2</code></td>
      <td><strong>Yes</strong></td>
      <td><strong>Yes</strong></td>
      <td>Named persistent fact</td>
    </tr>
  </table>

  <h3>Building Complex Rules</h3>
  <p><strong>Note:</strong> Parenthesized compound expressions are NOT supported. Complex rules are built by defining parts as separate statements, then referencing them:</p>
  <pre><code># WRONG (not supported):
# @rule Implies (And $cond1 $cond2) $conclusion

# CORRECT:
@cond1 hasState Door Open
@cond2 isA Door Entrance
@combined And $cond1 $cond2
@conclusion canEnter Person Door
@rule Implies $combined $conclusion</code></pre>

  <h2>Environment Variables</h2>
  <table class="matrix-table">
    <tr>
      <td><code>SYS2_HDC_STRATEGY</code></td>
      <td>HDC implementation to use. Default: <code>dense-binary</code></td>
    </tr>
    <tr>
      <td><code>SYS2_GEOMETRY</code></td>
      <td>Default vector geometry. Default: <code>32768</code> (must be divisible by 32)</td>
    </tr>
    <tr>
      <td><code>SYS2_DEBUG</code></td>
      <td>Enable debug logging. Set to <code>true</code> for verbose output.</td>
    </tr>
  </table>

  <h2>Benchmarking HDC Strategies</h2>
  <pre><code>import { benchmarkStrategy, printBenchmark } from './src/hdc/facade.mjs';

const results = benchmarkStrategy('dense-binary', 8192, { iterations: 1000 });
printBenchmark(results);

// Output:
// === HDC Strategy Benchmark ===
// Strategy: dense-binary
// Geometry: 8192
// Operations:
// ────────────────────────────────────────
// bind           0.002 ms    650K ops/sec
// similarity     0.004 ms    250K ops/sec
// bundle         0.195 ms      5K ops/sec
// ────────────────────────────────────────</code></pre>

  <h2>Specification Documents</h2>
  <ul>
    <li><a href="specsLoader.html?spec=DS01-Theoretical-Foundation.md">DS01 – Theoretical Foundation</a></li>
    <li><a href="specsLoader.html?spec=DS03-Architecture.md">DS03 – Architecture</a></li>
    <li><a href="specsLoader.html?spec=DS09-Core-HDC.md">DS09 – HDC Core Implementation</a></li>
    <li><a href="specsLoader.html?spec=DS_map.md">DS – Full Specification Map</a></li>
  </ul>

  <div class="footer-nav">
    <p>AGISystem2 provides deterministic, explainable reasoning with full proof traces. Current eval score: <strong>97%</strong> (363/376 tests passing).</p>
  </div>
  </div>

  <style>
    .matrix-table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
    }
    .matrix-table td {
      border: 1px solid #ddd;
      padding: 12px;
      vertical-align: top;
    }
    .matrix-table td:first-child {
      width: 180px;
      background: #f5f5f5;
      font-family: 'Consolas', 'Monaco', monospace;
    }
    .section-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    .section-card {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .section-card h3 {
      margin-top: 0;
    }
    .section-card h3 a {
      color: #1976d2;
      text-decoration: none;
    }
    .section-card h3 a:hover {
      text-decoration: underline;
    }
    pre {
      background: #f5f5f5;
      padding: 15px;
      border-radius: 5px;
      overflow-x: auto;
      font-size: 13px;
    }
    code {
      font-family: 'Consolas', 'Monaco', monospace;
    }
    .section-intro {
      background: #e3f2fd;
      padding: 15px 20px;
      border-radius: 8px;
      margin: 15px 0;
    }
  </style>
</body>
</html>
