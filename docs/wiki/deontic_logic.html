<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Deontic Logic</title>
  <link rel="stylesheet" href="../reference/style.css">
</head>
<body>
  <div class="page">
  <div class="nav-header">
    <h1>AGISystem2 – Deontic Logic</h1>
    <small>
      <a href="../index.html">Home</a> ·
      <a href="../guides/conceptual_spaces.html">Theory</a> ·
      <a href="../architecture/index.html">Architecture</a> ·
      <a href="../api/index.html">APIs</a> ·
      <a href="../syntax/index.html">Syntax</a> ·
      <a href="../usage-cli/index.html">CLI</a> ·
      <a href="index.html">Wiki</a> ·
      <a href="../specs/matrix.html">Specs</a>
    </small>
  </div>

  <p>Deontic logic in AGISystem2 handles normative reasoning: what is permitted, obligatory, or forbidden. These concepts are encoded in the <a href="axiology.html">axiological dimensions</a> (256-383), allowing the system to reason about rules, policies, and ethical constraints geometrically.</p>

  <div class="diagram">
    <svg viewBox="0 0 560 340" role="img" aria-label="Deontic regions in conceptual space">
      <defs>
        <marker id="arrow-deon" markerWidth="6" markerHeight="6" refX="5" refY="3" orient="auto" markerUnits="strokeWidth">
          <path d="M0,0 L6,3 L0,6 z" fill="#0f4c81" />
        </marker>
      </defs>

      <!-- Background -->
      <rect x="0" y="0" width="560" height="340" fill="#fafbfc"/>

      <!-- 2D projection of deontic space -->
      <rect x="20" y="20" width="280" height="200" rx="4" fill="#f5f7fb" stroke="#b0b6c4" stroke-width="1"/>
      <text x="160" y="40" font-size="10" font-weight="bold" fill="#4a5670" text-anchor="middle">Deontic Space (2D projection)</text>

      <!-- Axes -->
      <line x1="50" y1="190" x2="280" y2="190" stroke="#b0b6c4" stroke-width="1"/>
      <line x1="50" y1="190" x2="50" y2="50" stroke="#b0b6c4" stroke-width="1"/>
      <text x="280" y="205" font-size="8" fill="#4a5670">deontic dim 1 →</text>
      <text x="35" y="55" font-size="8" fill="#4a5670">↑</text>

      <!-- Forbidden region (red) -->
      <rect x="55" y="55" width="80" height="80" rx="4" fill="#ffebee" stroke="#c62828" stroke-width="2"/>
      <text x="95" y="95" font-size="10" font-weight="bold" fill="#c62828" text-anchor="middle">FORBIDDEN</text>
      <text x="95" y="110" font-size="8" fill="#c62828" text-anchor="middle">dims < -64</text>

      <!-- Permitted region (green) -->
      <rect x="180" y="55" width="90" height="80" rx="4" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2"/>
      <text x="225" y="95" font-size="10" font-weight="bold" fill="#2e7d32" text-anchor="middle">PERMITTED</text>
      <text x="225" y="110" font-size="8" fill="#2e7d32" text-anchor="middle">dims > +64</text>

      <!-- Neutral zone -->
      <rect x="140" y="140" width="70" height="45" rx="4" fill="#fff" stroke="#b0b6c4" stroke-width="1"/>
      <text x="175" y="162" font-size="9" fill="#4a5670" text-anchor="middle">Neutral</text>
      <text x="175" y="175" font-size="8" fill="#4a5670" text-anchor="middle">-64 to +64</text>

      <!-- Concept points -->
      <circle cx="85" cy="80" r="6" fill="#c62828"/>
      <text x="85" y="68" font-size="8" fill="#c62828" text-anchor="middle">Murder</text>

      <circle cx="210" cy="75" r="6" fill="#2e7d32"/>
      <text x="210" y="63" font-size="8" fill="#2e7d32" text-anchor="middle">Free Speech</text>

      <circle cx="175" cy="155" r="6" fill="#4a5670"/>
      <text x="195" y="152" font-size="8" fill="#4a5670">Jaywalking</text>

      <!-- Deontic operators -->
      <rect x="320" y="20" width="220" height="130" rx="4" fill="#e1ecf7" stroke="#0f4c81" stroke-width="1"/>
      <text x="430" y="40" font-size="10" font-weight="bold" fill="#0f4c81" text-anchor="middle">Deontic Operators</text>

      <rect x="335" y="55" width="190" height="25" rx="4" fill="#e8f5e9" stroke="#2e7d32" stroke-width="1"/>
      <text x="345" y="72" font-size="9" fill="#2e7d32">PERMITS(X, Y)</text>
      <text x="430" y="72" font-size="8" fill="#4a5670">→ deontic dims > +64</text>

      <rect x="335" y="85" width="190" height="25" rx="4" fill="#ffebee" stroke="#c62828" stroke-width="1"/>
      <text x="345" y="102" font-size="9" fill="#c62828">PROHIBITS(X, Y)</text>
      <text x="430" y="102" font-size="8" fill="#4a5670">→ deontic dims < -64</text>

      <rect x="335" y="115" width="190" height="25" rx="4" fill="#fff3e0" stroke="#e65100" stroke-width="1"/>
      <text x="345" y="132" font-size="9" fill="#e65100">OBLIGATES(X, Y)</text>
      <text x="430" y="132" font-size="8" fill="#4a5670">→ deontic dims > +100</text>

      <!-- DSL examples -->
      <rect x="320" y="165" width="220" height="115" rx="4" fill="#f5f7fb" stroke="#b0b6c4" stroke-width="1"/>
      <text x="430" y="185" font-size="10" font-weight="bold" fill="#4a5670" text-anchor="middle">Sys2DSL Examples</text>

      <text x="335" y="205" font-size="9" font-family="monospace" fill="#2e7d32">ASSERT Law PERMITS FreeSpeech</text>
      <text x="335" y="225" font-size="9" font-family="monospace" fill="#c62828">ASSERT Law PROHIBITS Murder</text>
      <text x="335" y="245" font-size="9" font-family="monospace" fill="#e65100">ASSERT Law OBLIGATES TaxFiling</text>
      <text x="335" y="265" font-size="9" font-family="monospace" fill="#0f4c81">ASK "Murder PERMITTED?"  → FALSE</text>

      <!-- Conflict detection -->
      <rect x="20" y="235" width="280" height="90" rx="4" fill="#fff3e0" stroke="#e65100" stroke-width="1"/>
      <text x="160" y="255" font-size="10" font-weight="bold" fill="#e65100" text-anchor="middle">Deontic Conflict Detection</text>

      <text x="35" y="275" font-size="9" fill="#4a5670">If X is both PERMITTED and PROHIBITED:</text>
      <text x="35" y="295" font-size="9" fill="#c62828">→ ValidationEngine raises DEONTIC_CONFLICT</text>
      <text x="35" y="315" font-size="9" fill="#4a5670">Resolution: priority rules, context layers</text>
    </svg>
    <p class="diagram-caption">Deontic status is determined by axiological dimension values: strongly negative (< -64) means forbidden, strongly positive (> +64) means permitted, and very positive (> +100) means obligatory. The ValidationEngine detects conflicts when the same concept has contradictory deontic values.</p>
  </div>

  <h2>Deontic Operators</h2>

  <table class="table-concept-index">
    <thead>
      <tr><th>Operator</th><th>Meaning</th><th>Dimension Range</th></tr>
    </thead>
    <tbody>
      <tr>
        <td>PERMITS</td>
        <td>Action is allowed</td>
        <td>deontic > +64</td>
      </tr>
      <tr>
        <td>PROHIBITS</td>
        <td>Action is forbidden</td>
        <td>deontic < -64</td>
      </tr>
      <tr>
        <td>OBLIGATES</td>
        <td>Action is required</td>
        <td>deontic > +100</td>
      </tr>
      <tr>
        <td>NEUTRAL</td>
        <td>No normative status</td>
        <td>-64 ≤ deontic ≤ +64</td>
      </tr>
    </tbody>
  </table>

  <h2>Logical Relationships</h2>

  <p>Standard deontic logic relationships are enforced:</p>

  <pre>
# Obligatory implies permitted
OBLIGATES(X, Y) → PERMITS(X, Y)

# Forbidden is not-permitted
PROHIBITS(X, Y) ↔ ¬PERMITS(X, Y)

# Query deontic status
ASK "Action PERMITTED_BY Law?"
ASK "Action OBLIGATORY_UNDER Contract?"</pre>

  <h2>Context-Dependent Norms</h2>

  <p>Use <a href="theory_layers.html">theory layers</a> to model context-dependent norms:</p>

  <pre>
# Base layer: general law
ASSERT Law PROHIBITS Speeding

# Context layer: emergency
THEORY_PUSH name="emergency"
ASSERT EmergencyLaw PERMITS Speeding WHEN Ambulance
THEORY_POP

# Different results based on active layer
ASK "Ambulance Speeding PERMITTED?"  # Depends on layer</pre>

  <h2>Conflict Resolution</h2>

  <p>When norms conflict, the system uses priority rules:</p>

  <ol>
    <li><strong>Layer priority</strong> – Higher layers override lower layers</li>
    <li><strong>Specificity</strong> – More specific norms override general ones</li>
    <li><strong>Recency</strong> – Later assertions take precedence</li>
    <li><strong>Explicit priority</strong> – Use PRIORITY metadata on relations</li>
  </ol>

  <h2>Implementation</h2>

  <pre>
// Check if action is permitted
const permitted = reasoner.checkDeontic(action, context, "PERMITTED");
// Returns: { status: true/false, confidence: 0.95, source: "Law#42" }

// Find all obligations
const obligations = reasoner.findByDeontic("OBLIGATORY", context);
// Returns: [{ concept: "TaxFiling", source: "TaxLaw" }, ...]

// Detect conflicts
const conflicts = validationEngine.findDeonticConflicts(theory);
// Returns: [{ concept: "X", status1: "PERMITTED", status2: "PROHIBITED" }]</pre>

  <h2>Related Documentation</h2>

  <ul>
    <li><a href="axiology.html">Axiology</a> – Value dimensions encoding deontic status</li>
    <li><a href="theory_layers.html">Theory Layers</a> – Context-dependent norms</li>
    <li><a href="validation.html">Validation</a> – Conflict detection</li>
    <li><a href="non_monotonic_logic.html">Non-Monotonic Logic</a> – Norm revision</li>
    <li><a href="../architecture/reasoning.html">Reasoner</a> – Deontic query implementation</li>
  </ul>

  <div class="footer-nav">
    <a href="counterfactual.html">← Counterfactuals</a> ·
    <a href="non_monotonic_logic.html">Non-Monotonic Logic →</a>
  </div>
  </div>
  <script src="../reference/nav2.js"></script>
</body>
</html>
