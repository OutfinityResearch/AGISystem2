# Biology Theory - DSL Expressions
# Comprehensive biological knowledge with multi-line graphs
# Coverage: Taxonomy, Cell Biology, Genetics, Ecology, Physiology

# ============================================================================
# PART I: TAXONOMY - Complete Hierarchy (Domains → Species)
# ============================================================================

# --- Domain Level ---
isA Bacteria Domain
isA Archaea Domain
isA Eukarya Domain

# --- Kingdom Level ---
isA Animalia Kingdom
isA Plantae Kingdom
isA Fungi Kingdom
isA Protista Kingdom
isA Monera Kingdom

# Kingdom to Domain relationships
@:Kingdom_Eukarya_Animalia graph
    @premise isA Animalia Kingdom
    @domain isA Eukarya Domain
    @relation belongsTo Animalia $domain
    return $relation
end

@:Kingdom_Eukarya_Plantae graph
    @premise isA Plantae Kingdom
    @domain isA Eukarya Domain
    @relation belongsTo Plantae $domain
    return $relation
end

@:Kingdom_Eukarya_Fungi graph
    @premise isA Fungi Kingdom
    @domain isA Eukarya Domain
    @relation belongsTo Fungi $domain
    return $relation
end

# --- Phylum Level (Animals) ---
isA Chordata Phylum
isA Arthropoda Phylum
isA Mollusca Phylum
isA Annelida Phylum
isA Cnidaria Phylum
isA Porifera Phylum
isA Echinodermata Phylum
isA Nematoda Phylum
isA Platyhelminthes Phylum

@:Phylum_Animal_Chordata graph
    @phylum isA Chordata Phylum
    @kingdom isA Animalia Kingdom
    @relation belongsTo Chordata $kingdom
    return $relation
end

@:Phylum_Animal_Arthropoda graph
    @phylum isA Arthropoda Phylum
    @kingdom isA Animalia Kingdom
    @relation belongsTo Arthropoda $kingdom
    return $relation
end

@:Phylum_Animal_Mollusca graph
    @phylum isA Mollusca Phylum
    @kingdom isA Animalia Kingdom
    @relation belongsTo Mollusca $kingdom
    return $relation
end

# --- Phylum Level (Plants) ---
isA Magnoliophyta Phylum
isA Pinophyta Phylum
isA Pteridophyta Phylum
isA Bryophyta Phylum
isA Chlorophyta Phylum

@:Phylum_Plant_Magnoliophyta graph
    @phylum isA Magnoliophyta Phylum
    @kingdom isA Plantae Kingdom
    @relation belongsTo Magnoliophyta $kingdom
    return $relation
end

@:Phylum_Plant_Pinophyta graph
    @phylum isA Pinophyta Phylum
    @kingdom isA Plantae Kingdom
    @relation belongsTo Pinophyta $kingdom
    return $relation
end

# --- Class Level (Chordates) ---
isA Mammalia Class
isA Aves Class
isA Reptilia Class
isA Amphibia Class
isA Actinopterygii Class
isA Chondrichthyes Class

@:Class_Chordata_Mammalia graph
    @class isA Mammalia Class
    @phylum isA Chordata Phylum
    @relation belongsTo Mammalia $phylum
    return $relation
end

@:Class_Chordata_Aves graph
    @class isA Aves Class
    @phylum isA Chordata Phylum
    @relation belongsTo Aves $phylum
    return $relation
end

@:Class_Chordata_Reptilia graph
    @class isA Reptilia Class
    @phylum isA Chordata Phylum
    @relation belongsTo Reptilia $phylum
    return $relation
end

@:Class_Chordata_Amphibia graph
    @class isA Amphibia Class
    @phylum isA Chordata Phylum
    @relation belongsTo Amphibia $phylum
    return $relation
end

@:Class_Chordata_Actinopterygii graph
    @class isA Actinopterygii Class
    @phylum isA Chordata Phylum
    @relation belongsTo Actinopterygii $phylum
    return $relation
end

# --- Class Level (Arthropods) ---
isA Insecta Class
isA Arachnida Class
isA Crustacea Class
isA Myriapoda Class

@:Class_Arthropoda_Insecta graph
    @class isA Insecta Class
    @phylum isA Arthropoda Phylum
    @relation belongsTo Insecta $phylum
    return $relation
end

@:Class_Arthropoda_Arachnida graph
    @class isA Arachnida Class
    @phylum isA Arthropoda Phylum
    @relation belongsTo Arachnida $phylum
    return $relation
end

# --- Order Level (Mammals) ---
isA Primates Order
isA Carnivora Order
isA Rodentia Order
isA Chiroptera Order
isA Cetacea Order
isA Artiodactyla Order
isA Perissodactyla Order
isA Proboscidea Order
isA Lagomorpha Order
isA Marsupialia Order

@:Order_Mammalia_Primates graph
    @order isA Primates Order
    @class isA Mammalia Class
    @relation belongsTo Primates $class
    return $relation
end

@:Order_Mammalia_Carnivora graph
    @order isA Carnivora Order
    @class isA Mammalia Class
    @relation belongsTo Carnivora $class
    return $relation
end

@:Order_Mammalia_Rodentia graph
    @order isA Rodentia Order
    @class isA Mammalia Class
    @relation belongsTo Rodentia $class
    return $relation
end

@:Order_Mammalia_Cetacea graph
    @order isA Cetacea Order
    @class isA Mammalia Class
    @relation belongsTo Cetacea $class
    return $relation
end

@:Order_Mammalia_Chiroptera graph
    @order isA Chiroptera Order
    @class isA Mammalia Class
    @relation belongsTo Chiroptera $class
    return $relation
end

@:Order_Mammalia_Artiodactyla graph
    @order isA Artiodactyla Order
    @class isA Mammalia Class
    @relation belongsTo Artiodactyla $class
    return $relation
end

@:Order_Mammalia_Proboscidea graph
    @order isA Proboscidea Order
    @class isA Mammalia Class
    @relation belongsTo Proboscidea $class
    return $relation
end

# --- Order Level (Birds) ---
isA Passeriformes Order
isA Falconiformes Order
isA Strigiformes Order
isA Anseriformes Order
isA Galliformes Order
isA Columbiformes Order
isA Psittaciformes Order
isA Piciformes Order
isA Sphenisciformes Order

@:Order_Aves_Passeriformes graph
    @order isA Passeriformes Order
    @class isA Aves Class
    @relation belongsTo Passeriformes $class
    return $relation
end

@:Order_Aves_Falconiformes graph
    @order isA Falconiformes Order
    @class isA Aves Class
    @relation belongsTo Falconiformes $class
    return $relation
end

@:Order_Aves_Strigiformes graph
    @order isA Strigiformes Order
    @class isA Aves Class
    @relation belongsTo Strigiformes $class
    return $relation
end

@:Order_Aves_Sphenisciformes graph
    @order isA Sphenisciformes Order
    @class isA Aves Class
    @relation belongsTo Sphenisciformes $class
    return $relation
end

# --- Order Level (Insects) ---
isA Coleoptera Order
isA Lepidoptera Order
isA Hymenoptera Order
isA Diptera Order
isA Orthoptera Order
isA Hemiptera Order
isA Odonata Order

@:Order_Insecta_Coleoptera graph
    @order isA Coleoptera Order
    @class isA Insecta Class
    @relation belongsTo Coleoptera $class
    return $relation
end

@:Order_Insecta_Lepidoptera graph
    @order isA Lepidoptera Order
    @class isA Insecta Class
    @relation belongsTo Lepidoptera $class
    return $relation
end

@:Order_Insecta_Hymenoptera graph
    @order isA Hymenoptera Order
    @class isA Insecta Class
    @relation belongsTo Hymenoptera $class
    return $relation
end

@:Order_Insecta_Diptera graph
    @order isA Diptera Order
    @class isA Insecta Class
    @relation belongsTo Diptera $class
    return $relation
end

# --- Family Level (Primates) ---
isA Hominidae Family
isA Pongidae Family
isA Cercopithecidae Family
isA Hylobatidae Family
isA Lemuridae Family

@:Family_Primates_Hominidae graph
    @family isA Hominidae Family
    @order isA Primates Order
    @relation belongsTo Hominidae $order
    return $relation
end

@:Family_Primates_Pongidae graph
    @family isA Pongidae Family
    @order isA Primates Order
    @relation belongsTo Pongidae $order
    return $relation
end

@:Family_Primates_Cercopithecidae graph
    @family isA Cercopithecidae Family
    @order isA Primates Order
    @relation belongsTo Cercopithecidae $order
    return $relation
end

# --- Family Level (Carnivora) ---
isA Felidae Family
isA Canidae Family
isA Ursidae Family
isA Mustelidae Family
isA Phocidae Family

@:Family_Carnivora_Felidae graph
    @family isA Felidae Family
    @order isA Carnivora Order
    @relation belongsTo Felidae $order
    return $relation
end

@:Family_Carnivora_Canidae graph
    @family isA Canidae Family
    @order isA Carnivora Order
    @relation belongsTo Canidae $order
    return $relation
end

@:Family_Carnivora_Ursidae graph
    @family isA Ursidae Family
    @order isA Carnivora Order
    @relation belongsTo Ursidae $order
    return $relation
end

# --- Genus Level (Hominidae) ---
isA Homo Genus
isA Pan Genus
isA Gorilla Genus
isA Pongo Genus
isA Australopithecus Genus

@:Genus_Hominidae_Homo graph
    @genus isA Homo Genus
    @family isA Hominidae Family
    @relation belongsTo Homo $family
    return $relation
end

@:Genus_Hominidae_Pan graph
    @genus isA Pan Genus
    @family isA Hominidae Family
    @relation belongsTo Pan $family
    return $relation
end

@:Genus_Hominidae_Gorilla graph
    @genus isA Gorilla Genus
    @family isA Hominidae Family
    @relation belongsTo Gorilla $family
    return $relation
end

# --- Genus Level (Felidae) ---
isA Panthera Genus
isA Felis Genus
isA Acinonyx Genus
isA Lynx Genus
isA Puma Genus

@:Genus_Felidae_Panthera graph
    @genus isA Panthera Genus
    @family isA Felidae Family
    @relation belongsTo Panthera $family
    return $relation
end

@:Genus_Felidae_Felis graph
    @genus isA Felis Genus
    @family isA Felidae Family
    @relation belongsTo Felis $family
    return $relation
end

@:Genus_Felidae_Acinonyx graph
    @genus isA Acinonyx Genus
    @family isA Felidae Family
    @relation belongsTo Acinonyx $family
    return $relation
end

# --- Genus Level (Canidae) ---
isA Canis Genus
isA Vulpes Genus
isA Lycaon Genus
isA Cuon Genus

@:Genus_Canidae_Canis graph
    @genus isA Canis Genus
    @family isA Canidae Family
    @relation belongsTo Canis $family
    return $relation
end

@:Genus_Canidae_Vulpes graph
    @genus isA Vulpes Genus
    @family isA Canidae Family
    @relation belongsTo Vulpes $family
    return $relation
end

# --- Species Level (Homo) ---
isA HomoSapiens Species
isA HomoNeanderthalensis Species
isA HomoErectus Species
isA HomoHabilis Species

@:Species_Homo_Sapiens graph
    @species isA HomoSapiens Species
    @genus isA Homo Genus
    @relation belongsTo HomoSapiens $genus
    @common commonName HomoSapiens "Human"
    return $relation
end

@:Species_Homo_Neanderthalensis graph
    @species isA HomoNeanderthalensis Species
    @genus isA Homo Genus
    @relation belongsTo HomoNeanderthalensis $genus
    @common commonName HomoNeanderthalensis "Neanderthal"
    return $relation
end

# --- Species Level (Panthera) ---
isA PantheraLeo Species
isA PantheraTigris Species
isA PantheraOnca Species
isA PantheraPardus Species
isA PantheraUncia Species

@:Species_Panthera_Leo graph
    @species isA PantheraLeo Species
    @genus isA Panthera Genus
    @relation belongsTo PantheraLeo $genus
    @common commonName PantheraLeo "Lion"
    return $relation
end

@:Species_Panthera_Tigris graph
    @species isA PantheraTigris Species
    @genus isA Panthera Genus
    @relation belongsTo PantheraTigris $genus
    @common commonName PantheraTigris "Tiger"
    return $relation
end

@:Species_Panthera_Onca graph
    @species isA PantheraOnca Species
    @genus isA Panthera Genus
    @relation belongsTo PantheraOnca $genus
    @common commonName PantheraOnca "Jaguar"
    return $relation
end

@:Species_Panthera_Pardus graph
    @species isA PantheraPardus Species
    @genus isA Panthera Genus
    @relation belongsTo PantheraPardus $genus
    @common commonName PantheraPardus "Leopard"
    return $relation
end

# --- Species Level (Canis) ---
isA CanisLupus Species
isA CanisFamiliaris Species
isA CanisLatrans Species
isA CanisAureus Species

@:Species_Canis_Lupus graph
    @species isA CanisLupus Species
    @genus isA Canis Genus
    @relation belongsTo CanisLupus $genus
    @common commonName CanisLupus "Wolf"
    return $relation
end

@:Species_Canis_Familiaris graph
    @species isA CanisFamiliaris Species
    @genus isA Canis Genus
    @relation belongsTo CanisFamiliaris $genus
    @common commonName CanisFamiliaris "Dog"
    return $relation
end

# --- Species Level (Other notable) ---
isA ElephantidaeAfricana Species
isA PanTroglodytes Species
isA GorillaGorilla Species
isA UrsusArctos Species
isA BalenopteraMusculus Species

@:Species_Pan_Troglodytes graph
    @species isA PanTroglodytes Species
    @genus isA Pan Genus
    @relation belongsTo PanTroglodytes $genus
    @common commonName PanTroglodytes "Chimpanzee"
    return $relation
end

@:Species_Gorilla_Gorilla graph
    @species isA GorillaGorilla Species
    @genus isA Gorilla Genus
    @relation belongsTo GorillaGorilla $genus
    @common commonName GorillaGorilla "Gorilla"
    return $relation
end

# ============================================================================
# PART II: CELL BIOLOGY
# ============================================================================

# --- Cell Types ---
isA ProkaryoticCell CellType
isA EukaryoticCell CellType
isA AnimalCell CellType
isA PlantCell CellType
isA BacterialCell CellType
isA ArchaealCell CellType

@:Cell_Type_Hierarchy graph
    @animal isA AnimalCell CellType
    @plant isA PlantCell CellType
    @euk isA EukaryoticCell CellType
    @r1 isSubtypeOf AnimalCell $euk
    @r2 isSubtypeOf PlantCell $euk
    @combined And $r1 $r2
    return $combined
end

@:Cell_Prokaryote_Types graph
    @bacterial isA BacterialCell CellType
    @archaeal isA ArchaealCell CellType
    @prok isA ProkaryoticCell CellType
    @r1 isSubtypeOf BacterialCell $prok
    @r2 isSubtypeOf ArchaealCell $prok
    @combined And $r1 $r2
    return $combined
end

# --- Organelles ---
isA Nucleus Organelle
isA Mitochondrion Organelle
isA Chloroplast Organelle
isA EndoplasmicReticulum Organelle
isA GolgiApparatus Organelle
isA Ribosome Organelle
isA Lysosome Organelle
isA Peroxisome Organelle
isA Vacuole Organelle
isA Cytoskeleton Organelle
isA CellMembrane Organelle
isA CellWall Organelle

@:Organelle_Nucleus graph
    @org isA Nucleus Organelle
    @function hasFunction Nucleus "genetic_control"
    @contains containsDNA Nucleus true
    @membrane hasDoubleMembrane Nucleus true
    @euk foundIn Nucleus EukaryoticCell
    @result And $function (And $contains (And $membrane $euk))
    return $result
end

@:Organelle_Mitochondrion graph
    @org isA Mitochondrion Organelle
    @function hasFunction Mitochondrion "ATP_production"
    @contains containsDNA Mitochondrion true
    @membrane hasDoubleMembrane Mitochondrion true
    @origin hasOrigin Mitochondrion "endosymbiotic"
    @result And $function (And $contains (And $membrane $origin))
    return $result
end

@:Organelle_Chloroplast graph
    @org isA Chloroplast Organelle
    @function hasFunction Chloroplast "photosynthesis"
    @contains containsDNA Chloroplast true
    @membrane hasDoubleMembrane Chloroplast true
    @origin hasOrigin Chloroplast "endosymbiotic"
    @plant foundIn Chloroplast PlantCell
    @result And $function (And $contains (And $membrane (And $origin $plant)))
    return $result
end

@:Organelle_ER graph
    @org isA EndoplasmicReticulum Organelle
    @rough isA RoughER SubOrganelle
    @smooth isA SmoothER SubOrganelle
    @r_func hasFunction RoughER "protein_synthesis"
    @s_func hasFunction SmoothER "lipid_synthesis"
    @result And $r_func $s_func
    return $result
end

@:Organelle_Golgi graph
    @org isA GolgiApparatus Organelle
    @function hasFunction GolgiApparatus "protein_modification"
    @structure hasStructure GolgiApparatus "stacked_cisternae"
    @result And $function $structure
    return $result
end

@:Organelle_Ribosome graph
    @org isA Ribosome Organelle
    @function hasFunction Ribosome "protein_synthesis"
    @subunit1 hasSubunit Ribosome "large_subunit"
    @subunit2 hasSubunit Ribosome "small_subunit"
    @rna containsRNA Ribosome true
    @universal foundIn Ribosome "all_cells"
    @result And $function (And $subunit1 (And $subunit2 (And $rna $universal)))
    return $result
end

@:Organelle_Lysosome graph
    @org isA Lysosome Organelle
    @function hasFunction Lysosome "digestion"
    @enzyme containsEnzymes Lysosome "hydrolases"
    @ph hasOptimalPH Lysosome "acidic"
    @animal foundIn Lysosome AnimalCell
    @result And $function (And $enzyme (And $ph $animal))
    return $result
end

# --- Cell Processes ---
isA Mitosis CellProcess
isA Meiosis CellProcess
isA Cytokinesis CellProcess
isA Apoptosis CellProcess
isA CellularRespiration CellProcess
isA Photosynthesis CellProcess
isA Endocytosis CellProcess
isA Exocytosis CellProcess
isA ActiveTransport CellProcess
isA PassiveTransport CellProcess
isA Osmosis CellProcess
isA Diffusion CellProcess

@:Process_Mitosis graph
    @process isA Mitosis CellProcess
    @result producesResult Mitosis "two_identical_cells"
    @phases hasPhases Mitosis [Prophase Metaphase Anaphase Telophase]
    @type isDivisionType Mitosis "asexual"
    @chromosome chromosomeNumber Mitosis "diploid"
    @conclusion And $result (And $phases (And $type $chromosome))
    return $conclusion
end

@:Process_Meiosis graph
    @process isA Meiosis CellProcess
    @result producesResult Meiosis "four_haploid_cells"
    @divisions hasDivisions Meiosis 2
    @type isDivisionType Meiosis "sexual"
    @recomb allowsCrossover Meiosis true
    @conclusion And $result (And $divisions (And $type $recomb))
    return $conclusion
end

@:Process_Cellular_Respiration graph
    @process isA CellularRespiration CellProcess
    @location occursIn CellularRespiration Mitochondrion
    @input hasInput CellularRespiration "glucose_and_oxygen"
    @output producesOutput CellularRespiration "ATP_CO2_water"
    @stages hasStages CellularRespiration [Glycolysis KrebsCycle ElectronTransport]
    @atp producesATP CellularRespiration 36
    @conclusion And $location (And $input (And $output (And $stages $atp)))
    return $conclusion
end

@:Process_Photosynthesis graph
    @process isA Photosynthesis CellProcess
    @location occursIn Photosynthesis Chloroplast
    @input hasInput Photosynthesis "CO2_water_light"
    @output producesOutput Photosynthesis "glucose_oxygen"
    @light hasLightReactions Photosynthesis true
    @dark hasDarkReactions Photosynthesis true
    @equation equation Photosynthesis "6CO2+6H2O+light→C6H12O6+6O2"
    @conclusion And $location (And $input (And $output (And $light (And $dark $equation))))
    return $conclusion
end

@:Process_Apoptosis graph
    @process isA Apoptosis CellProcess
    @type isType Apoptosis "programmed_cell_death"
    @trigger hasTriggerers Apoptosis [DNA_damage Signals Development]
    @executor hasExecutors Apoptosis "caspases"
    @controlled isControlled Apoptosis true
    @vs differs Apoptosis Necrosis
    @conclusion And $type (And $trigger (And $executor (And $controlled $vs)))
    return $conclusion
end

# --- Mitosis Phases ---
isA Prophase MitosisPhase
isA Metaphase MitosisPhase
isA Anaphase MitosisPhase
isA Telophase MitosisPhase
isA Interphase CellCyclePhase
isA G1Phase CellCyclePhase
isA SPhase CellCyclePhase
isA G2Phase CellCyclePhase

@:Mitosis_Phase_Order graph
    @p1 isA Prophase MitosisPhase
    @p2 isA Metaphase MitosisPhase
    @p3 isA Anaphase MitosisPhase
    @p4 isA Telophase MitosisPhase
    @s1 follows Metaphase Prophase
    @s2 follows Anaphase Metaphase
    @s3 follows Telophase Anaphase
    @seq And $s1 (And $s2 $s3)
    return $seq
end

@:Cell_Cycle_Phases graph
    @inter isA Interphase CellCyclePhase
    @g1 isA G1Phase CellCyclePhase
    @s isA SPhase CellCyclePhase
    @g2 isA G2Phase CellCyclePhase
    @sub1 isSubphaseOf G1Phase Interphase
    @sub2 isSubphaseOf SPhase Interphase
    @sub3 isSubphaseOf G2Phase Interphase
    @dna dnaSynthesisIn SPhase true
    @result And $sub1 (And $sub2 (And $sub3 $dna))
    return $result
end

# --- Membrane Transport ---
@:Transport_Passive graph
    @process isA PassiveTransport CellProcess
    @energy requiresEnergy PassiveTransport false
    @direction movesWithGradient PassiveTransport true
    @types hasTypes PassiveTransport [Diffusion Osmosis FacilitatedDiffusion]
    @conclusion And $energy (And $direction $types)
    return $conclusion
end

@:Transport_Active graph
    @process isA ActiveTransport CellProcess
    @energy requiresEnergy ActiveTransport true
    @direction movesAgainstGradient ActiveTransport true
    @atp requiresATP ActiveTransport true
    @pump example ActiveTransport "sodium_potassium_pump"
    @conclusion And $energy (And $direction (And $atp $pump))
    return $conclusion
end

@:Transport_Osmosis graph
    @process isA Osmosis CellProcess
    @substance transports Osmosis "water"
    @direction acrossGradient Osmosis "concentration"
    @membrane acrossMembrane Osmosis "semipermeable"
    @type isTypeOf Osmosis PassiveTransport
    @conclusion And $substance (And $direction (And $membrane $type))
    return $conclusion
end

# ============================================================================
# PART III: GENETICS
# ============================================================================

# --- Nucleic Acids ---
isA DNA NucleicAcid
isA RNA NucleicAcid
isA mRNA RNAType
isA tRNA RNAType
isA rRNA RNAType
isA miRNA RNAType
isA siRNA RNAType

@:DNA_Structure graph
    @mol isA DNA NucleicAcid
    @structure hasStructure DNA "double_helix"
    @backbone hasBackbone DNA "phosphate_deoxyribose"
    @bases hasBases DNA [Adenine Thymine Guanine Cytosine]
    @pairing basePairingRule DNA "A-T_G-C"
    @direction hasDirectionality DNA "antiparallel"
    @hydrogen hasHydrogenBonds DNA true
    @result And $structure (And $backbone (And $bases (And $pairing (And $direction $hydrogen))))
    return $result
end

@:RNA_Structure graph
    @mol isA RNA NucleicAcid
    @structure hasStructure RNA "single_stranded"
    @backbone hasBackbone RNA "phosphate_ribose"
    @bases hasBases RNA [Adenine Uracil Guanine Cytosine]
    @pairing basePairingRule RNA "A-U_G-C"
    @result And $structure (And $backbone (And $bases $pairing))
    return $result
end

@:Central_Dogma graph
    @dna isA DNA NucleicAcid
    @rna isA RNA NucleicAcid
    @protein isA Protein Macromolecule
    @transcription processDNA_to_RNA Transcription
    @translation processRNA_to_Protein Translation
    @flow informationFlow "DNA→RNA→Protein"
    @dogma centralDogma $flow
    @result And $transcription (And $translation $dogma)
    return $result
end

# --- Transcription ---
@:Transcription_Process graph
    @process isA Transcription GeneticProcess
    @template hasTemplate Transcription DNA
    @product producesProduct Transcription mRNA
    @enzyme usesEnzyme Transcription "RNA_polymerase"
    @location occursIn Transcription Nucleus
    @direction direction Transcription "5_to_3_prime"
    @promoter requiresPromoter Transcription true
    @result And $template (And $product (And $enzyme (And $location (And $direction $promoter))))
    return $result
end

@:Transcription_Stages graph
    @init isA Initiation TranscriptionStage
    @elong isA Elongation TranscriptionStage
    @term isA Termination TranscriptionStage
    @s1 follows Elongation Initiation
    @s2 follows Termination Elongation
    @init_desc initiation_involves Initiation "promoter_binding"
    @elong_desc elongation_involves Elongation "RNA_synthesis"
    @term_desc termination_involves Termination "release"
    @result And $s1 (And $s2 (And $init_desc (And $elong_desc $term_desc)))
    return $result
end

# --- Translation ---
@:Translation_Process graph
    @process isA Translation GeneticProcess
    @template hasTemplate Translation mRNA
    @product producesProduct Translation Protein
    @site occursAt Translation Ribosome
    @location occursIn Translation Cytoplasm
    @codon usesCodon Translation true
    @trna requirestRNA Translation true
    @result And $template (And $product (And $site (And $location (And $codon $trna))))
    return $result
end

@:Genetic_Code graph
    @code isA GeneticCode Concept
    @codons numberOfCodons GeneticCode 64
    @amino numberOfAminoAcids GeneticCode 20
    @start startCodon GeneticCode "AUG"
    @stop stopCodons GeneticCode [UAA UAG UGA]
    @degenerate isDegenerateCode GeneticCode true
    @universal isUniversal GeneticCode "nearly"
    @result And $codons (And $amino (And $start (And $stop (And $degenerate $universal))))
    return $result
end

# --- Gene Expression Regulation ---
@:Gene_Regulation_Prokaryote graph
    @reg isA ProkaryoticRegulation GeneRegulation
    @operon hasOperon ProkaryoticRegulation true
    @lac example ProkaryoticRegulation "lac_operon"
    @trp example ProkaryoticRegulation "trp_operon"
    @inducible isInducible "lac_operon" true
    @repressible isRepressible "trp_operon" true
    @result And $operon (And $lac (And $trp (And $inducible $repressible)))
    return $result
end

@:Gene_Regulation_Eukaryote graph
    @reg isA EukaryoticRegulation GeneRegulation
    @levels hasLevels EukaryoticRegulation [Epigenetic Transcriptional Posttranscriptional Translational Posttranslational]
    @enhancer hasEnhancers EukaryoticRegulation true
    @silencer hasSilencers EukaryoticRegulation true
    @tf requiresTranscriptionFactors EukaryoticRegulation true
    @result And $levels (And $enhancer (And $silencer $tf))
    return $result
end

@:Epigenetic_Regulation graph
    @epi isA Epigenetics GeneRegulation
    @methyl hasMechanism Epigenetics "DNA_methylation"
    @histone hasMechanism Epigenetics "histone_modification"
    @inherit isHeritable Epigenetics true
    @noSeq doesNotChangeSequence Epigenetics true
    @result And $methyl (And $histone (And $inherit $noSeq))
    return $result
end

# --- Mutations ---
isA PointMutation MutationType
isA FrameshiftMutation MutationType
isA Deletion MutationType
isA Insertion MutationType
isA Substitution MutationType
isA Translocation MutationType
isA Inversion MutationType

@:Mutation_Point graph
    @mut isA PointMutation MutationType
    @affects affectsBases PointMutation 1
    @types hasSubtypes PointMutation [Transition Transversion]
    @effects possibleEffects PointMutation [Silent Missense Nonsense]
    @result And $affects (And $types $effects)
    return $result
end

@:Mutation_Frameshift graph
    @mut isA FrameshiftMutation MutationType
    @cause causedBy FrameshiftMutation "insertion_or_deletion"
    @shift shiftsReadingFrame FrameshiftMutation true
    @effect hasEffect FrameshiftMutation "altered_protein"
    @severe isSevere FrameshiftMutation true
    @result And $cause (And $shift (And $effect $severe))
    return $result
end

@:Mutation_Chromosomal graph
    @del isA Deletion MutationType
    @ins isA Insertion MutationType
    @trans isA Translocation MutationType
    @inv isA Inversion MutationType
    @large allAre "chromosomal_mutations" "large_scale"
    @del_def deletes Deletion "segment"
    @trans_def moves Translocation "segment_to_other_chromosome"
    @inv_def reverses Inversion "segment_orientation"
    @result And $large (And $del_def (And $trans_def $inv_def))
    return $result
end

# --- Inheritance Patterns ---
@:Mendelian_Inheritance graph
    @pattern isA MendelianInheritance InheritancePattern
    @dom hasPattern MendelianInheritance "dominant"
    @rec hasPattern MendelianInheritance "recessive"
    @ratio hasRatio MendelianInheritance "3:1_monohybrid"
    @law1 law MendelianInheritance "law_of_segregation"
    @law2 law MendelianInheritance "law_of_independent_assortment"
    @result And $dom (And $rec (And $ratio (And $law1 $law2)))
    return $result
end

@:Non_Mendelian_Inheritance graph
    @pattern isA NonMendelianInheritance InheritancePattern
    @incomplete hasPattern NonMendelianInheritance "incomplete_dominance"
    @codominant hasPattern NonMendelianInheritance "codominance"
    @linked hasPattern NonMendelianInheritance "sex_linked"
    @maternal hasPattern NonMendelianInheritance "maternal_inheritance"
    @poly hasPattern NonMendelianInheritance "polygenic"
    @result And $incomplete (And $codominant (And $linked (And $maternal $poly)))
    return $result
end

# ============================================================================
# PART IV: ECOLOGY
# ============================================================================

# --- Ecosystem Types ---
isA TerrestrialEcosystem EcosystemType
isA AquaticEcosystem EcosystemType
isA MarineEcosystem EcosystemType
isA FreshwaterEcosystem EcosystemType
isA Forest EcosystemType
isA Grassland EcosystemType
isA Desert EcosystemType
isA Tundra EcosystemType
isA Wetland EcosystemType

@:Ecosystem_Terrestrial_Types graph
    @forest isA Forest EcosystemType
    @grass isA Grassland EcosystemType
    @desert isA Desert EcosystemType
    @tundra isA Tundra EcosystemType
    @terr isA TerrestrialEcosystem EcosystemType
    @r1 isSubtypeOf Forest $terr
    @r2 isSubtypeOf Grassland $terr
    @r3 isSubtypeOf Desert $terr
    @r4 isSubtypeOf Tundra $terr
    @result And $r1 (And $r2 (And $r3 $r4))
    return $result
end

@:Ecosystem_Aquatic_Types graph
    @marine isA MarineEcosystem EcosystemType
    @fresh isA FreshwaterEcosystem EcosystemType
    @aqua isA AquaticEcosystem EcosystemType
    @r1 isSubtypeOf MarineEcosystem $aqua
    @r2 isSubtypeOf FreshwaterEcosystem $aqua
    @result And $r1 $r2
    return $result
end

# --- Biomes ---
isA TropicalRainforest Biome
isA TemperateForest Biome
isA BorealForest Biome
isA Savanna Biome
isA Temperate_Grassland Biome
isA Chaparral Biome
isA Hot_Desert Biome
isA Cold_Desert Biome
isA Arctic_Tundra Biome
isA Alpine_Tundra Biome
isA Coral_Reef Biome
isA Open_Ocean Biome
isA Estuary Biome

@:Biome_Tropical_Rainforest graph
    @biome isA TropicalRainforest Biome
    @climate hasClimate TropicalRainforest "hot_wet"
    @temp hasTemperature TropicalRainforest "25-30C"
    @rain hasRainfall TropicalRainforest ">200cm"
    @diversity hasBiodiversity TropicalRainforest "highest"
    @layers hasLayers TropicalRainforest [Emergent Canopy Understory Floor]
    @result And $climate (And $temp (And $rain (And $diversity $layers)))
    return $result
end

@:Biome_Desert graph
    @biome isA Hot_Desert Biome
    @climate hasClimate Hot_Desert "hot_dry"
    @rain hasRainfall Hot_Desert "<25cm"
    @adapt hasAdaptations Hot_Desert [Succulence Nocturnal WaterConservation]
    @temp hasTemperature Hot_Desert "extreme_variation"
    @result And $climate (And $rain (And $adapt $temp))
    return $result
end

@:Biome_Tundra graph
    @biome isA Arctic_Tundra Biome
    @climate hasClimate Arctic_Tundra "cold_dry"
    @temp hasTemperature Arctic_Tundra "-34_to_12C"
    @perm hasPermafrost Arctic_Tundra true
    @veg hasVegetation Arctic_Tundra [Lichens Mosses LowShrubs]
    @season hasGrowingSeason Arctic_Tundra "50-60_days"
    @result And $climate (And $temp (And $perm (And $veg $season)))
    return $result
end

# --- Ecological Relationships ---
isA Predation EcologicalRelationship
isA Parasitism EcologicalRelationship
isA Mutualism EcologicalRelationship
isA Commensalism EcologicalRelationship
isA Competition EcologicalRelationship
isA Amensalism EcologicalRelationship

@:Relationship_Predation graph
    @rel isA Predation EcologicalRelationship
    @effect1 effectOnPredator Predation "positive"
    @effect2 effectOnPrey Predation "negative"
    @interact interactionType Predation "consume"
    @role1 rolePredator Predation "consumer"
    @role2 rolePrey Predation "consumed"
    @result And $effect1 (And $effect2 (And $interact (And $role1 $role2)))
    return $result
end

@:Relationship_Mutualism graph
    @rel isA Mutualism EcologicalRelationship
    @effect1 effectOnSpecies1 Mutualism "positive"
    @effect2 effectOnSpecies2 Mutualism "positive"
    @example1 example Mutualism "bee_flower"
    @example2 example Mutualism "clownfish_anemone"
    @example3 example Mutualism "mycorrhizae"
    @result And $effect1 (And $effect2 (And $example1 (And $example2 $example3)))
    return $result
end

@:Relationship_Parasitism graph
    @rel isA Parasitism EcologicalRelationship
    @effect1 effectOnParasite Parasitism "positive"
    @effect2 effectOnHost Parasitism "negative"
    @type1 isA Ectoparasite ParasiteType
    @type2 isA Endoparasite ParasiteType
    @example example Parasitism [Tapeworm Tick Mistletoe]
    @result And $effect1 (And $effect2 (And $type1 (And $type2 $example)))
    return $result
end

@:Relationship_Competition graph
    @rel isA Competition EcologicalRelationship
    @effect1 effectOnSpecies1 Competition "negative"
    @effect2 effectOnSpecies2 Competition "negative"
    @intra isA Intraspecific CompetitionType
    @inter isA Interspecific CompetitionType
    @exclusion competitiveExclusion Competition "principle"
    @result And $effect1 (And $effect2 (And $intra (And $inter $exclusion)))
    return $result
end

# --- Food Web ---
isA Producer TrophicLevel
isA PrimaryConsumer TrophicLevel
isA SecondaryConsumer TrophicLevel
isA TertiaryConsumer TrophicLevel
isA ApexPredator TrophicLevel
isA Decomposer TrophicLevel

@:Trophic_Levels graph
    @prod isA Producer TrophicLevel
    @prim isA PrimaryConsumer TrophicLevel
    @sec isA SecondaryConsumer TrophicLevel
    @tert isA TertiaryConsumer TrophicLevel
    @apex isA ApexPredator TrophicLevel
    @s1 feedsOn PrimaryConsumer Producer
    @s2 feedsOn SecondaryConsumer PrimaryConsumer
    @s3 feedsOn TertiaryConsumer SecondaryConsumer
    @s4 feedsOn ApexPredator TertiaryConsumer
    @result And $s1 (And $s2 (And $s3 $s4))
    return $result
end

@:Energy_Transfer graph
    @rule isA TenPercentRule EcologicalRule
    @transfer energyTransfer "10_percent"
    @loss energyLoss "90_percent_as_heat"
    @limit limitsChainLength "typically_4-5_levels"
    @pyramid producesEnergyPyramid true
    @result And $transfer (And $loss (And $limit $pyramid))
    return $result
end

@:Decomposition graph
    @decomp isA Decomposer TrophicLevel
    @org organisms Decomposer [Bacteria Fungi]
    @role recyclesNutrients Decomposer true
    @matter breakDownsOrganicMatter Decomposer true
    @cycle completesNutrientCycle Decomposer true
    @result And $org (And $role (And $matter $cycle))
    return $result
end

# --- Biogeochemical Cycles ---
isA CarbonCycle BiogeochemicalCycle
isA NitrogenCycle BiogeochemicalCycle
isA WaterCycle BiogeochemicalCycle
isA PhosphorusCycle BiogeochemicalCycle
isA SulfurCycle BiogeochemicalCycle

@:Carbon_Cycle graph
    @cycle isA CarbonCycle BiogeochemicalCycle
    @photo photosynthesis "absorbs_CO2"
    @resp respiration "releases_CO2"
    @decomp decomposition "releases_CO2"
    @fossil fossilFuels "stored_carbon"
    @ocean oceanAbsorption "CO2_sink"
    @result And $photo (And $resp (And $decomp (And $fossil $ocean)))
    return $result
end

@:Nitrogen_Cycle graph
    @cycle isA NitrogenCycle BiogeochemicalCycle
    @fix nitrogenFixation "N2_to_NH3"
    @nitri nitrification "NH3_to_NO3"
    @assim assimilation "plants_uptake"
    @denitri denitrification "NO3_to_N2"
    @bacteria keyOrganisms NitrogenCycle [Rhizobium Nitrosomonas Nitrobacter]
    @result And $fix (And $nitri (And $assim (And $denitri $bacteria)))
    return $result
end

@:Water_Cycle graph
    @cycle isA WaterCycle BiogeochemicalCycle
    @evap evaporation "water_to_vapor"
    @trans transpiration "plants_release_water"
    @cond condensation "vapor_to_clouds"
    @prec precipitation "clouds_to_rain"
    @runoff runoff "water_to_ocean"
    @infil infiltration "water_to_groundwater"
    @result And $evap (And $trans (And $cond (And $prec (And $runoff $infil))))
    return $result
end

# --- Population Ecology ---
@:Population_Growth_Exponential graph
    @growth isA ExponentialGrowth PopulationModel
    @equation equation ExponentialGrowth "dN/dt=rN"
    @condition condition ExponentialGrowth "unlimited_resources"
    @curve producesJCurve ExponentialGrowth true
    @rate intrinsicRate ExponentialGrowth "r"
    @result And $equation (And $condition (And $curve $rate))
    return $result
end

@:Population_Growth_Logistic graph
    @growth isA LogisticGrowth PopulationModel
    @equation equation LogisticGrowth "dN/dt=rN(K-N)/K"
    @condition condition LogisticGrowth "limited_resources"
    @curve producesSCurve LogisticGrowth true
    @capacity carryingCapacity LogisticGrowth "K"
    @result And $equation (And $condition (And $curve $capacity))
    return $result
end

@:Population_Regulation graph
    @reg isA PopulationRegulation EcologicalConcept
    @density isDensityDependent PopulationRegulation [Competition Disease Predation]
    @independent isDensityIndependent PopulationRegulation [Weather Disasters]
    @result And $density $independent
    return $result
end

# --- Succession ---
@:Ecological_Succession_Primary graph
    @succ isA PrimarySuccession EcologicalProcess
    @start startsOn PrimarySuccession "bare_substrate"
    @pioneer hasPioneerSpecies PrimarySuccession [Lichens Mosses]
    @soil soilDevelopment PrimarySuccession "gradual"
    @climax leadsToCommunity PrimarySuccession "climax_community"
    @time timeScale PrimarySuccession "hundreds_to_thousands_years"
    @result And $start (And $pioneer (And $soil (And $climax $time)))
    return $result
end

@:Ecological_Succession_Secondary graph
    @succ isA SecondarySuccession EcologicalProcess
    @start startsOn SecondarySuccession "disturbed_area"
    @soil hasSoil SecondarySuccession true
    @seeds hasSeedBank SecondarySuccession true
    @faster isFasterThan SecondarySuccession PrimarySuccession
    @time timeScale SecondarySuccession "decades_to_century"
    @result And $start (And $soil (And $seeds (And $faster $time)))
    return $result
end

# ============================================================================
# PART V: PHYSIOLOGY
# ============================================================================

# --- Organ Systems ---
isA NervousSystem OrganSystem
isA CirculatorySystem OrganSystem
isA RespiratorySystem OrganSystem
isA DigestiveSystem OrganSystem
isA ExcretorySystem OrganSystem
isA EndocrineSystem OrganSystem
isA ImmuneSystem OrganSystem
isA MusculoskelletalSystem OrganSystem
isA ReproductiveSystem OrganSystem
isA IntegumentarySystem OrganSystem
isA LymphaticSystem OrganSystem

@:System_Nervous graph
    @sys isA NervousSystem OrganSystem
    @organs hasOrgans NervousSystem [Brain SpinalCord Nerves]
    @function hasFunction NervousSystem "control_and_coordination"
    @divisions hasDivisions NervousSystem [CNS PNS]
    @cells hasCells NervousSystem [Neurons Glia]
    @signal signalType NervousSystem "electrical_and_chemical"
    @result And $organs (And $function (And $divisions (And $cells $signal)))
    return $result
end

@:System_Circulatory graph
    @sys isA CirculatorySystem OrganSystem
    @organs hasOrgans CirculatorySystem [Heart BloodVessels Blood]
    @function hasFunction CirculatorySystem "transport"
    @circuits hasCircuits CirculatorySystem [Pulmonary Systemic]
    @types bloodVesselTypes CirculatorySystem [Arteries Veins Capillaries]
    @result And $organs (And $function (And $circuits $types))
    return $result
end

@:System_Respiratory graph
    @sys isA RespiratorySystem OrganSystem
    @organs hasOrgans RespiratorySystem [Lungs Trachea Bronchi Diaphragm]
    @function hasFunction RespiratorySystem "gas_exchange"
    @process1 performs RespiratorySystem "ventilation"
    @process2 performs RespiratorySystem "external_respiration"
    @unit functionalUnit RespiratorySystem "alveoli"
    @result And $organs (And $function (And $process1 (And $process2 $unit)))
    return $result
end

@:System_Digestive graph
    @sys isA DigestiveSystem OrganSystem
    @organs hasOrgans DigestiveSystem [Mouth Esophagus Stomach SmallIntestine LargeIntestine]
    @accessory accessoryOrgans DigestiveSystem [Liver Pancreas Gallbladder]
    @function hasFunction DigestiveSystem "nutrient_absorption"
    @processes hasProcesses DigestiveSystem [Ingestion Digestion Absorption Elimination]
    @result And $organs (And $accessory (And $function $processes))
    return $result
end

@:System_Endocrine graph
    @sys isA EndocrineSystem OrganSystem
    @glands hasGlands EndocrineSystem [Pituitary Thyroid Adrenal Pancreas Gonads]
    @function hasFunction EndocrineSystem "hormonal_regulation"
    @signal signalType EndocrineSystem "chemical_hormones"
    @feedback usesFeedback EndocrineSystem [Negative Positive]
    @result And $glands (And $function (And $signal $feedback))
    return $result
end

@:System_Immune graph
    @sys isA ImmuneSystem OrganSystem
    @organs hasOrgans ImmuneSystem [Thymus Spleen LymphNodes BoneMarrow]
    @function hasFunction ImmuneSystem "defense"
    @types hasTypes ImmuneSystem [Innate Adaptive]
    @cells hasCells ImmuneSystem [Tcells Bcells Macrophages Neutrophils]
    @result And $organs (And $function (And $types $cells))
    return $result
end

# --- Homeostasis ---
@:Homeostasis_Definition graph
    @concept isA Homeostasis PhysiologicalConcept
    @def definition Homeostasis "maintenance_of_stable_internal_environment"
    @mech mechanisms Homeostasis [NegativeFeedback PositiveFeedback]
    @var regulatedVariables Homeostasis [Temperature pH Glucose BloodPressure]
    @result And $def (And $mech $var)
    return $result
end

@:Negative_Feedback graph
    @fb isA NegativeFeedback FeedbackMechanism
    @action reverses NegativeFeedback "change_from_setpoint"
    @common isMostCommon NegativeFeedback true
    @ex1 example NegativeFeedback "thermoregulation"
    @ex2 example NegativeFeedback "blood_glucose_regulation"
    @ex3 example NegativeFeedback "blood_pressure_regulation"
    @result And $action (And $common (And $ex1 (And $ex2 $ex3)))
    return $result
end

@:Positive_Feedback graph
    @fb isA PositiveFeedback FeedbackMechanism
    @action amplifies PositiveFeedback "change_from_setpoint"
    @rare isLessCommon PositiveFeedback true
    @ex1 example PositiveFeedback "blood_clotting"
    @ex2 example PositiveFeedback "labor_contractions"
    @ex3 example PositiveFeedback "lactation"
    @result And $action (And $rare (And $ex1 (And $ex2 $ex3)))
    return $result
end

@:Thermoregulation graph
    @process isA Thermoregulation HomeostasisProcess
    @setpoint normalSetpoint Thermoregulation "37C"
    @warm warmingMechanisms Thermoregulation [Shivering Vasoconstriction]
    @cool coolingMechanisms Thermoregulation [Sweating Vasodilation]
    @control controlCenter Thermoregulation "hypothalamus"
    @result And $setpoint (And $warm (And $cool $control))
    return $result
end

@:Blood_Glucose_Regulation graph
    @process isA GlucoseRegulation HomeostasisProcess
    @normal normalRange GlucoseRegulation "70-100mg/dL"
    @high highGlucoseResponse GlucoseRegulation "insulin_release"
    @low lowGlucoseResponse GlucoseRegulation "glucagon_release"
    @organ controlOrgan GlucoseRegulation "pancreas"
    @cells isletCells GlucoseRegulation [BetaCells AlphaCells]
    @result And $normal (And $high (And $low (And $organ $cells)))
    return $result
end

# --- Neural Signaling ---
@:Action_Potential graph
    @ap isA ActionPotential NeuralSignal
    @rest restingPotential ActionPotential "-70mV"
    @threshold threshold ActionPotential "-55mV"
    @peak peakPotential ActionPotential "+40mV"
    @phases hasPhases ActionPotential [Depolarization Repolarization Hyperpolarization]
    @allOrNone followsAllOrNone ActionPotential true
    @refractory hasRefractoryPeriod ActionPotential true
    @result And $rest (And $threshold (And $peak (And $phases (And $allOrNone $refractory))))
    return $result
end

@:Synaptic_Transmission graph
    @syn isA SynapticTransmission NeuralProcess
    @pre presynapticEvents SynapticTransmission [CalciumInflux VesicleFusion NeurotransmitterRelease]
    @post postsynapticEvents SynapticTransmission [ReceptorBinding IonChannelOpening]
    @neuro neurotransmitters SynapticTransmission [Acetylcholine Dopamine Serotonin GABA Glutamate]
    @types synapseTypes SynapticTransmission [Excitatory Inhibitory]
    @result And $pre (And $post (And $neuro $types))
    return $result
end

# --- Hormonal Signaling ---
@:Hormone_Types graph
    @h isA Hormone SignalingMolecule
    @steroid isA SteroidHormone HormoneType
    @peptide isA PeptideHormone HormoneType
    @amine isA AmineHormone HormoneType
    @s_mech mechanism SteroidHormone "crosses_membrane_binds_intracellular_receptor"
    @p_mech mechanism PeptideHormone "binds_surface_receptor_second_messenger"
    @result And $steroid (And $peptide (And $amine (And $s_mech $p_mech)))
    return $result
end

@:Hypothalamus_Pituitary_Axis graph
    @axis isA HPAxis EndocrineAxis
    @hypo produces Hypothalamus "releasing_hormones"
    @ant produces AnteriorPituitary [GH TSH ACTH FSH LH Prolactin]
    @post produces PosteriorPituitary [Oxytocin ADH]
    @control controlsOtherGlands AnteriorPituitary true
    @feedback usesNegativeFeedback HPAxis true
    @result And $hypo (And $ant (And $post (And $control $feedback)))
    return $result
end

# --- Immune Response ---
@:Innate_Immunity graph
    @imm isA InnateImmunity ImmuneResponse
    @speed responseSpeed InnateImmunity "immediate"
    @specific isSpecific InnateImmunity false
    @barriers physicalBarriers InnateImmunity [Skin Mucosa]
    @cells cells InnateImmunity [Macrophages Neutrophils NK_cells DendriticCells]
    @inflam inflammatoryResponse InnateImmunity true
    @result And $speed (And $specific (And $barriers (And $cells $inflam)))
    return $result
end

@:Adaptive_Immunity graph
    @imm isA AdaptiveImmunity ImmuneResponse
    @speed responseSpeed AdaptiveImmunity "days_to_weeks"
    @specific isSpecific AdaptiveImmunity true
    @humoral humoralImmunity AdaptiveImmunity "B_cells_antibodies"
    @cellular cellularImmunity AdaptiveImmunity "T_cells"
    @memory hasMemory AdaptiveImmunity true
    @result And $speed (And $specific (And $humoral (And $cellular $memory)))
    return $result
end

@:Antibody_Structure graph
    @ab isA Antibody Protein
    @structure hasStructure Antibody "Y_shaped"
    @chains hasChains Antibody [HeavyChain LightChain]
    @regions hasRegions Antibody [VariableRegion ConstantRegion]
    @binding antigenBindingSite Antibody "variable_region"
    @classes antibodyClasses Antibody [IgG IgM IgA IgE IgD]
    @result And $structure (And $chains (And $regions (And $binding $classes)))
    return $result
end

# ============================================================================
# PART VI: EVOLUTION
# ============================================================================

# --- Evolutionary Mechanisms ---
isA NaturalSelection EvolutionaryMechanism
isA GeneticDrift EvolutionaryMechanism
isA GeneFlow EvolutionaryMechanism
isA Mutation EvolutionaryMechanism

@:Natural_Selection graph
    @mech isA NaturalSelection EvolutionaryMechanism
    @req1 requires NaturalSelection "variation"
    @req2 requires NaturalSelection "heritability"
    @req3 requires NaturalSelection "differential_reproduction"
    @types hasTypes NaturalSelection [Directional Stabilizing Disruptive Sexual]
    @result resultIn NaturalSelection "adaptation"
    @darwin proposedBy NaturalSelection "Darwin"
    @conclusion And $req1 (And $req2 (And $req3 (And $types (And $result $darwin))))
    return $conclusion
end

@:Genetic_Drift graph
    @mech isA GeneticDrift EvolutionaryMechanism
    @type isType GeneticDrift "random_change"
    @effect greaterEffectIn GeneticDrift "small_populations"
    @bottleneck example GeneticDrift "bottleneck_effect"
    @founder example GeneticDrift "founder_effect"
    @result And $type (And $effect (And $bottleneck $founder))
    return $result
end

@:Gene_Flow graph
    @mech isA GeneFlow EvolutionaryMechanism
    @def definition GeneFlow "movement_of_alleles_between_populations"
    @effect1 effect GeneFlow "increases_genetic_variation_in_recipient"
    @effect2 effect GeneFlow "reduces_differences_between_populations"
    @result And $def (And $effect1 $effect2)
    return $result
end

# --- Speciation ---
isA AllopatricSpeciation SpeciationType
isA SympatricSpeciation SpeciationType
isA ParapatricSpeciation SpeciationType
isA PeriopatricSpeciation SpeciationType

@:Speciation_Allopatric graph
    @spec isA AllopatricSpeciation SpeciationType
    @barrier requiresBarrier AllopatricSpeciation "geographic"
    @isolation isolationType AllopatricSpeciation "spatial"
    @common isMostCommon AllopatricSpeciation true
    @example example AllopatricSpeciation "Darwin_finches"
    @result And $barrier (And $isolation (And $common $example))
    return $result
end

@:Speciation_Sympatric graph
    @spec isA SympatricSpeciation SpeciationType
    @barrier requiresBarrier SympatricSpeciation "none_geographic"
    @mechanism mechanism SympatricSpeciation "resource_partitioning_or_polyploidy"
    @common isLessCommon SympatricSpeciation true
    @example example SympatricSpeciation "apple_maggot_fly"
    @result And $barrier (And $mechanism (And $common $example))
    return $result
end

# --- Evidence for Evolution ---
@:Fossil_Evidence graph
    @ev isA FossilEvidence EvolutionaryEvidence
    @shows shows FossilEvidence "sequence_of_life_forms"
    @trans transitionalForms FossilEvidence [Archaeopteryx Tiktaalik]
    @dating datingMethods FossilEvidence [RadiometricDating Stratigraphy]
    @result And $shows (And $trans $dating)
    return $result
end

@:Comparative_Anatomy graph
    @ev isA ComparativeAnatomy EvolutionaryEvidence
    @homo homologousStructures ComparativeAnatomy "common_ancestry"
    @analog analogousStructures ComparativeAnatomy "convergent_evolution"
    @vestig vestigialStructures ComparativeAnatomy "reduced_function"
    @example1 homologyExample ComparativeAnatomy "vertebrate_limbs"
    @example2 vestigialExample ComparativeAnatomy "human_appendix"
    @result And $homo (And $analog (And $vestig (And $example1 $example2)))
    return $result
end

@:Molecular_Evidence graph
    @ev isA MolecularEvidence EvolutionaryEvidence
    @dna dnaSimilarity MolecularEvidence "reflects_relatedness"
    @protein proteinSimilarity MolecularEvidence "reflects_relatedness"
    @universal universalCode MolecularEvidence "common_origin"
    @clock molecularClock MolecularEvidence "mutation_rate_estimation"
    @result And $dna (And $protein (And $universal $clock))
    return $result
end

# --- Phylogenetics ---
@:Phylogenetic_Tree graph
    @tree isA PhylogeneticTree EvolutionaryDiagram
    @represents represents PhylogeneticTree "evolutionary_relationships"
    @node nodeRepresents PhylogeneticTree "common_ancestor"
    @branch branchRepresents PhylogeneticTree "lineage"
    @tip tipRepresents PhylogeneticTree "extant_or_extinct_taxon"
    @methods constructionMethods PhylogeneticTree [Parsimony MaximumLikelihood Bayesian]
    @result And $represents (And $node (And $branch (And $tip $methods)))
    return $result
end

@:Cladistics graph
    @method isA Cladistics ClassificationMethod
    @basis basedOn Cladistics "shared_derived_characters"
    @mono preferMonophyleticGroups Cladistics true
    @clade definesClades Cladistics "ancestor_and_all_descendants"
    @terms usesTerms Cladistics [Synapomorphy Plesiomorphy Autapomorphy]
    @result And $basis (And $mono (And $clade $terms))
    return $result
end

# ============================================================================
# PART VII: BIOLOGICAL PRINCIPLES AND LAWS
# ============================================================================

# --- Laws and Principles ---
@:Cell_Theory graph
    @theory isA CellTheory BiologicalTheory
    @tenet1 tenet CellTheory "all_living_things_composed_of_cells"
    @tenet2 tenet CellTheory "cell_is_basic_unit_of_life"
    @tenet3 tenet CellTheory "cells_arise_from_preexisting_cells"
    @scientists proposedBy CellTheory [Schleiden Schwann Virchow]
    @result And $tenet1 (And $tenet2 (And $tenet3 $scientists))
    return $result
end

@:Germ_Theory graph
    @theory isA GermTheory BiologicalTheory
    @claim claims GermTheory "microorganisms_cause_disease"
    @scientist proposedBy GermTheory "Pasteur_Koch"
    @impact revolutionized GermTheory "medicine"
    @kochPostulates hasPostulates GermTheory [Isolation Cultivation Reinfection Reisolation]
    @result And $claim (And $scientist (And $impact $kochPostulates))
    return $result
end

@:Theory_of_Evolution graph
    @theory isA TheoryOfEvolution BiologicalTheory
    @mechanism primaryMechanism TheoryOfEvolution "natural_selection"
    @descent descentWithModification TheoryOfEvolution true
    @common commonAncestry TheoryOfEvolution true
    @scientist proposedBy TheoryOfEvolution [Darwin Wallace]
    @modern modernSynthesis TheoryOfEvolution "integrates_genetics"
    @result And $mechanism (And $descent (And $common (And $scientist $modern)))
    return $result
end

@:Hardy_Weinberg_Principle graph
    @principle isA HardyWeinbergEquilibrium PopulationGeneticsLaw
    @equation equation HardyWeinbergEquilibrium "p²+2pq+q²=1"
    @condition1 requires HardyWeinbergEquilibrium "no_mutation"
    @condition2 requires HardyWeinbergEquilibrium "no_migration"
    @condition3 requires HardyWeinbergEquilibrium "no_selection"
    @condition4 requires HardyWeinbergEquilibrium "random_mating"
    @condition5 requires HardyWeinbergEquilibrium "large_population"
    @result And $equation (And $condition1 (And $condition2 (And $condition3 (And $condition4 $condition5))))
    return $result
end

@:Competitive_Exclusion_Principle graph
    @principle isA CompetitiveExclusionPrinciple EcologicalLaw
    @states states CompetitiveExclusionPrinciple "two_species_cannot_occupy_same_niche"
    @outcome outcome CompetitiveExclusionPrinciple "one_species_excluded"
    @scientist proposedBy CompetitiveExclusionPrinciple "Gause"
    @alternative alternativeOutcome CompetitiveExclusionPrinciple "niche_differentiation"
    @result And $states (And $outcome (And $scientist $alternative))
    return $result
end

@:Bergmanns_Rule graph
    @rule isA BergmannsRule BiologicalRule
    @states states BergmannsRule "body_size_increases_with_latitude"
    @applies appliesTo BergmannsRule "endotherms"
    @reason reason BergmannsRule "surface_area_to_volume_ratio"
    @heat heatConservation BergmannsRule "larger_animals_conserve_heat_better"
    @result And $states (And $applies (And $reason $heat))
    return $result
end

@:Allens_Rule graph
    @rule isA AllensRule BiologicalRule
    @states states AllensRule "appendage_length_decreases_with_latitude"
    @applies appliesTo AllensRule "endotherms"
    @reason reason AllensRule "reduces_heat_loss"
    @example example AllensRule "arctic_fox_ears_vs_desert_fox_ears"
    @result And $states (And $applies (And $reason $example))
    return $result
end

# --- Biogeography Rules ---
@:Island_Biogeography graph
    @theory isA IslandBiogeography EcologicalTheory
    @equilibrium speciesEquilibrium IslandBiogeography "immigration_equals_extinction"
    @size sizeEffect IslandBiogeography "larger_islands_more_species"
    @distance distanceEffect IslandBiogeography "closer_islands_more_species"
    @scientists proposedBy IslandBiogeography [MacArthur Wilson]
    @result And $equilibrium (And $size (And $distance $scientists))
    return $result
end

# ============================================================================
# PART VIII: BIOTECHNOLOGY AND APPLICATIONS
# ============================================================================

# --- Molecular Techniques ---
@:PCR graph
    @tech isA PCR MolecularTechnique
    @fullName fullName PCR "Polymerase_Chain_Reaction"
    @function function PCR "amplify_DNA"
    @components requires PCR [Template Primers dNTPs TaqPolymerase]
    @steps hasSteps PCR [Denaturation Annealing Extension]
    @inventor inventedBy PCR "Kary_Mullis"
    @result And $fullName (And $function (And $components (And $steps $inventor)))
    return $result
end

@:Gel_Electrophoresis graph
    @tech isA GelElectrophoresis MolecularTechnique
    @function function GelElectrophoresis "separate_DNA_by_size"
    @principle principle GelElectrophoresis "smaller_moves_faster"
    @matrix matrix GelElectrophoresis [Agarose Polyacrylamide]
    @visual visualization GelElectrophoresis "ethidium_bromide_UV"
    @result And $function (And $principle (And $matrix $visual))
    return $result
end

@:DNA_Sequencing graph
    @tech isA DNASequencing MolecularTechnique
    @sanger isA SangerSequencing DNASequencing
    @ngs isA NextGenSequencing DNASequencing
    @sanger_meth method SangerSequencing "chain_termination"
    @ngs_meth method NextGenSequencing "massive_parallel"
    @result And $sanger (And $ngs (And $sanger_meth $ngs_meth))
    return $result
end

@:CRISPR_Cas9 graph
    @tech isA CRISPR GeneEditingTool
    @function function CRISPR "gene_editing"
    @mechanism mechanism CRISPR "targeted_DNA_cutting"
    @components requires CRISPR [Cas9 GuideRNA]
    @applications applications CRISPR [GeneTherapy Agriculture Research]
    @precision precision CRISPR "high"
    @result And $function (And $mechanism (And $components (And $applications $precision)))
    return $result
end

# --- Genetic Engineering ---
@:Recombinant_DNA graph
    @tech isA RecombinantDNA GeneticEngineering
    @process process RecombinantDNA "insert_foreign_gene_into_vector"
    @vectors vectors RecombinantDNA [Plasmids Bacteriophages Cosmids]
    @enzymes enzymesUsed RecombinantDNA [RestrictionEnzymes DNALigase]
    @host hosts RecombinantDNA [Bacteria Yeast MammalianCells]
    @result And $process (And $vectors (And $enzymes $host))
    return $result
end

@:GMO graph
    @concept isA GMO GeneticEngineering
    @def definition GMO "genetically_modified_organism"
    @plant plantExamples GMO [BtCorn RoundupReadySoy GoldenRice]
    @animal animalExamples GMO [AquAdvantageSalmon]
    @concerns concerns GMO [Safety Environment Ethics]
    @result And $def (And $plant (And $animal $concerns))
    return $result
end

# --- Stem Cells ---
@:Stem_Cell_Types graph
    @sc isA StemCell CellType
    @toti isA TotipotentStemCell StemCell
    @pluri isA PluripotentStemCell StemCell
    @multi isA MultipotentStemCell StemCell
    @toti_can differentiateTo TotipotentStemCell "all_cell_types_including_placenta"
    @pluri_can differentiateTo PluripotentStemCell "all_body_cell_types"
    @multi_can differentiateTo MultipotentStemCell "limited_cell_types"
    @result And $toti_can (And $pluri_can $multi_can)
    return $result
end

@:iPSC graph
    @cell isA iPSC StemCell
    @fullName fullName iPSC "induced_pluripotent_stem_cell"
    @origin derivedFrom iPSC "adult_somatic_cells"
    @factors reprogrammingFactors iPSC [Oct4 Sox2 Klf4 cMyc]
    @discoverer discoveredBy iPSC "Yamanaka"
    @applications applications iPSC [DiseaseModeling DrugTesting Therapy]
    @result And $fullName (And $origin (And $factors (And $discoverer $applications)))
    return $result
end

# ============================================================================
# PART IX: TAXONOMY INFERENCE RULES
# ============================================================================

# --- Taxonomic Transitivity ---
@:Taxonomy_Transitivity graph A B C
    @premise1 belongsTo $A $B
    @premise2 belongsTo $B $C
    @conclusion belongsTo $A $C
    @rule Implies (And $premise1 $premise2) $conclusion
    return $rule
end

@:Kingdom_To_Domain_Inference graph K D
    @p1 isA $K Kingdom
    @p2 belongsTo $K $D
    @p3 isA $D Domain
    @premise And $p1 (And $p2 $p3)
    @conclusion memberOfDomain $K $D
    @rule Implies $premise $conclusion
    return $rule
end

@:Species_Classification_Chain graph S G F O C P K D
    @s_g belongsTo $S $G
    @g_f belongsTo $G $F
    @f_o belongsTo $F $O
    @o_c belongsTo $O $C
    @c_p belongsTo $C $P
    @p_k belongsTo $P $K
    @k_d belongsTo $K $D
    @chain And $s_g (And $g_f (And $f_o (And $o_c (And $c_p (And $p_k $k_d)))))
    @conclusion hasFullTaxonomy $S [$G $F $O $C $P $K $D]
    @rule Implies $chain $conclusion
    return $rule
end

# --- Evolutionary Relationships ---
@:Common_Ancestor_Inference graph A B Ancestor
    @p1 descendsFrom $A $Ancestor
    @p2 descendsFrom $B $Ancestor
    @premise And $p1 $p2
    @conclusion shareCommonAncestor $A $B $Ancestor
    @rule Implies $premise $conclusion
    return $rule
end

@:Homology_Inference graph StructA StructB Ancestor
    @p1 derivedFrom $StructA $Ancestor
    @p2 derivedFrom $StructB $Ancestor
    @premise And $p1 $p2
    @conclusion areHomologous $StructA $StructB
    @rule Implies $premise $conclusion
    return $rule
end

# --- Ecological Inference ---
@:Predator_Prey_Coevolution graph Predator Prey
    @p1 preys Predator $Prey
    @p2 hasAdaptation $Prey "escape_mechanism"
    @p3 hasAdaptation $Predator "hunting_adaptation"
    @premise And $p1 (And $p2 $p3)
    @conclusion coevolve $Predator $Prey
    @rule Implies $premise $conclusion
    return $rule
end

@:Niche_Inference graph Species1 Species2 Niche
    @p1 occupiesNiche $Species1 $Niche
    @p2 occupiesNiche $Species2 $Niche
    @p3 coexist $Species1 $Species2
    @premise And $p1 (And $p2 $p3)
    @conclusion haveNicheDifferentiation $Species1 $Species2
    @rule Implies $premise $conclusion
    return $rule
end

# --- Physiological Inference ---
@:Homeostasis_Disruption graph Variable SetPoint Mechanism
    @p1 deviatesFrom $Variable $SetPoint
    @p2 activates $Mechanism
    @p3 restores $Mechanism $Variable $SetPoint
    @premise And $p1 $p2
    @conclusion maintainsHomeostasis $Mechanism $Variable
    @rule Implies $premise $conclusion
    return $rule
end

@:Hormone_Action_Inference graph Hormone Gland Target Effect
    @p1 producedBy $Hormone $Gland
    @p2 actsOn $Hormone $Target
    @premise And $p1 $p2
    @conclusion causesEffect $Hormone $Effect $Target
    @rule Implies $premise $conclusion
    return $rule
end

# --- Genetic Inference ---
@:Mendelian_Ratio_Inference graph Genotype1 Genotype2 Offspring
    @p1 hasGenotype $Genotype1 "Aa"
    @p2 hasGenotype $Genotype2 "Aa"
    @premise And $p1 $p2
    @c1 ratio $Offspring "AA" "1/4"
    @c2 ratio $Offspring "Aa" "1/2"
    @c3 ratio $Offspring "aa" "1/4"
    @conclusion And $c1 (And $c2 $c3)
    @rule Implies $premise $conclusion
    return $rule
end

@:Mutation_Effect_Inference graph Mutation Gene Protein Function
    @p1 affectsGene $Mutation $Gene
    @p2 encodesProtein $Gene $Protein
    @p3 hasFunction $Protein $Function
    @premise And $p1 (And $p2 $p3)
    @conclusion mayAlterFunction $Mutation $Function
    @rule Implies $premise $conclusion
    return $rule
end

# ============================================================================
# PART X: BIOCHEMICAL PATHWAYS
# ============================================================================

@:Glycolysis_Pathway graph
    @path isA Glycolysis MetabolicPathway
    @input inputMolecule Glycolysis Glucose
    @output outputMolecule Glycolysis Pyruvate
    @atp netATP Glycolysis 2
    @nadh producesNADH Glycolysis 2
    @location occursIn Glycolysis Cytoplasm
    @steps hasSteps Glycolysis 10
    @result And $input (And $output (And $atp (And $nadh (And $location $steps))))
    return $result
end

@:Krebs_Cycle graph
    @cycle isA KrebsCycle MetabolicPathway
    @altname alternativeName KrebsCycle "Citric_Acid_Cycle"
    @input inputMolecule KrebsCycle AcetylCoA
    @location occursIn KrebsCycle MitochondrialMatrix
    @nadh producesNADH KrebsCycle 3
    @fadh2 producesFADH2 KrebsCycle 1
    @atp producesATP KrebsCycle 1
    @co2 releasesCO2 KrebsCycle 2
    @result And $altname (And $input (And $location (And $nadh (And $fadh2 (And $atp $co2)))))
    return $result
end

@:Electron_Transport_Chain graph
    @etc isA ElectronTransportChain MetabolicPathway
    @location occursIn ElectronTransportChain InnerMitochondrialMembrane
    @accepts acceptsElectrons ElectronTransportChain [NADH FADH2]
    @final finalAcceptor ElectronTransportChain Oxygen
    @water producesWater ElectronTransportChain true
    @gradient createsProtonGradient ElectronTransportChain true
    @complexes hasComplexes ElectronTransportChain [ComplexI ComplexII ComplexIII ComplexIV]
    @result And $location (And $accepts (And $final (And $water (And $gradient $complexes))))
    return $result
end

@:ATP_Synthase graph
    @enzyme isA ATPSynthase Enzyme
    @function function ATPSynthase "synthesize_ATP"
    @mechanism mechanism ATPSynthase "chemiosmosis"
    @gradient usesGradient ATPSynthase "proton_motive_force"
    @rotation hasRotation ATPSynthase "rotary_mechanism"
    @subunits hasSubunits ATPSynthase [F0 F1]
    @result And $function (And $mechanism (And $gradient (And $rotation $subunits)))
    return $result
end

@:Beta_Oxidation graph
    @path isA BetaOxidation MetabolicPathway
    @substrate substrate BetaOxidation "fatty_acids"
    @product producesProduct BetaOxidation AcetylCoA
    @location occursIn BetaOxidation Mitochondria
    @nadh producesNADH BetaOxidation true
    @fadh2 producesFADH2 BetaOxidation true
    @result And $substrate (And $product (And $location (And $nadh $fadh2)))
    return $result
end

@:Gluconeogenesis graph
    @path isA Gluconeogenesis MetabolicPathway
    @function function Gluconeogenesis "synthesize_glucose"
    @substrates substrates Gluconeogenesis [Pyruvate Lactate Glycerol AminoAcids]
    @location locations Gluconeogenesis [Liver Kidney]
    @energy requiresEnergy Gluconeogenesis 6_ATP
    @bypasses bypassesIrreversible Gluconeogenesis true
    @result And $function (And $substrates (And $location (And $energy $bypasses)))
    return $result
end

@:Pentose_Phosphate_Pathway graph
    @path isA PentosePhosphatePath MetabolicPathway
    @produces producesNADPH PentosePhosphatePath true
    @ribose producesRibose5P PentosePhosphatePath true
    @phases hasPhases PentosePhosphatePath [Oxidative NonOxidative]
    @location occursIn PentosePhosphatePath Cytoplasm
    @result And $produces (And $ribose (And $phases $location))
    return $result
end

@:Urea_Cycle graph
    @cycle isA UreaCycle MetabolicPathway
    @function function UreaCycle "nitrogen_excretion"
    @product producesProduct UreaCycle Urea
    @location locations UreaCycle [Mitochondria Cytoplasm]
    @starts startsWith UreaCycle Ammonia
    @atp requiresATP UreaCycle 3
    @result And $function (And $product (And $location (And $starts $atp)))
    return $result
end

# ============================================================================
# PART XI: SIGNAL TRANSDUCTION
# ============================================================================

@:G_Protein_Signaling graph
    @path isA GProteinSignaling SignalTransduction
    @receptor hasReceptor GProteinSignaling GPCR
    @gprotein usesGProtein GProteinSignaling true
    @effector activatesEffector GProteinSignaling [AdenylylCyclase PhospholipaseC]
    @secondMessenger producesSecondMessenger GProteinSignaling [cAMP IP3 DAG]
    @amplification signalAmplification GProteinSignaling true
    @result And $receptor (And $gprotein (And $effector (And $secondMessenger $amplification)))
    return $result
end

@:Receptor_Tyrosine_Kinase graph
    @path isA RTKSignaling SignalTransduction
    @receptor hasReceptor RTKSignaling "receptor_tyrosine_kinase"
    @dimerization requiresDimerization RTKSignaling true
    @phosphorylation autophosphorylation RTKSignaling true
    @cascade activatesCascade RTKSignaling [Ras MAPK]
    @targets ultimateTargets RTKSignaling [TranscriptionFactors]
    @result And $receptor (And $dimerization (And $phosphorylation (And $cascade $targets)))
    return $result
end

@:cAMP_Pathway graph
    @path isA cAMPPathway SignalTransduction
    @enzyme producedBy cAMPPathway AdenylylCyclase
    @activates activatesKinase cAMPPathway PKA
    @targets phosphorylatesTargets PKA true
    @regulation regulatedBy cAMPPathway Phosphodiesterase
    @degradation degradesTo cAMPPathway AMP
    @result And $enzyme (And $activates (And $targets (And $regulation $degradation)))
    return $result
end

@:Calcium_Signaling graph
    @path isA CalciumSignaling SignalTransduction
    @ion signalingIon CalciumSignaling Calcium
    @sources calciumSources CalciumSignaling [ER Extracellular]
    @channels calciumChannels CalciumSignaling [IP3R RyR VoltageGated]
    @effectors calciumEffectors CalciumSignaling [Calmodulin PKC]
    @removal calciumRemoval CalciumSignaling [SERCA PMCA]
    @result And $ion (And $sources (And $channels (And $effectors $removal)))
    return $result
end

@:JAK_STAT_Pathway graph
    @path isA JAKSTATPathway SignalTransduction
    @receptor activatedBy JAKSTATPathway CytokineReceptors
    @jak associatedKinase JAKSTATPathway JAK
    @stat transcriptionFactor JAKSTATPathway STAT
    @dimerization statDimerization JAKSTATPathway true
    @nuclear nuclearTranslocation JAKSTATPathway true
    @result And $receptor (And $jak (And $stat (And $dimerization $nuclear)))
    return $result
end

@:Wnt_Signaling graph
    @path isA WntSignaling SignalTransduction
    @ligand ligand WntSignaling "Wnt_proteins"
    @receptor receptor WntSignaling Frizzled
    @coreceptor coreceptor WntSignaling LRP
    @effector keyEffector WntSignaling BetaCatenin
    @target transcriptionalTarget WntSignaling TCF_LEF
    @role developmentalRole WntSignaling "cell_fate_determination"
    @result And $ligand (And $receptor (And $coreceptor (And $effector (And $target $role))))
    return $result
end

@:Notch_Signaling graph
    @path isA NotchSignaling SignalTransduction
    @receptor receptor NotchSignaling Notch
    @ligand ligands NotchSignaling [Delta Jagged]
    @mechanism mechanism NotchSignaling "proteolytic_cleavage"
    @nicd releaseFragment NotchSignaling NICD
    @nuclear translocatesTo NotchSignaling Nucleus
    @target activates NotchSignaling "Hes_Hey_genes"
    @result And $receptor (And $ligand (And $mechanism (And $nicd (And $nuclear $target))))
    return $result
end

@:Hedgehog_Signaling graph
    @path isA HedgehogSignaling SignalTransduction
    @ligand ligand HedgehogSignaling [Sonic Indian Desert]
    @receptor receptor HedgehogSignaling Patched
    @coreceptor coreceptor HedgehogSignaling Smoothened
    @effector transcriptionFactor HedgehogSignaling Gli
    @role developmentalRole HedgehogSignaling "patterning"
    @result And $ligand (And $receptor (And $coreceptor (And $effector $role)))
    return $result
end

# ============================================================================
# PART XII: DEVELOPMENTAL BIOLOGY
# ============================================================================

@:Embryonic_Development_Stages graph
    @dev isA EmbryonicDevelopment DevelopmentalProcess
    @stage1 hasStage EmbryonicDevelopment Fertilization
    @stage2 hasStage EmbryonicDevelopment Cleavage
    @stage3 hasStage EmbryonicDevelopment Gastrulation
    @stage4 hasStage EmbryonicDevelopment Neurulation
    @stage5 hasStage EmbryonicDevelopment Organogenesis
    @sequence follows Cleavage Fertilization
    @result And $stage1 (And $stage2 (And $stage3 (And $stage4 (And $stage5 $sequence))))
    return $result
end

@:Gastrulation graph
    @process isA Gastrulation DevelopmentalProcess
    @forms formsGermLayers Gastrulation [Ectoderm Mesoderm Endoderm]
    @movement cellMovements Gastrulation [Invagination Involution Ingression]
    @organizer hasOrganizer Gastrulation "Spemann_organizer"
    @induces inducesNeuralTube Gastrulation true
    @result And $forms (And $movement (And $organizer $induces))
    return $result
end

@:Ectoderm_Derivatives graph
    @layer isA Ectoderm GermLayer
    @nerv derivesNervousSystem Ectoderm true
    @skin derivesEpidermis Ectoderm true
    @hair derivesHairNails Ectoderm true
    @sensory derivesSensoryOrgans Ectoderm true
    @neural derivesNeuralCrest Ectoderm true
    @result And $nerv (And $skin (And $hair (And $sensory $neural)))
    return $result
end

@:Mesoderm_Derivatives graph
    @layer isA Mesoderm GermLayer
    @muscle derivesMuscle Mesoderm true
    @bone derivesBoneCartilage Mesoderm true
    @blood derivesBloodVessels Mesoderm true
    @kidney derivesKidney Mesoderm true
    @heart derivesHeart Mesoderm true
    @result And $muscle (And $bone (And $blood (And $kidney $heart)))
    return $result
end

@:Endoderm_Derivatives graph
    @layer isA Endoderm GermLayer
    @gi derivesGILining Endoderm true
    @liver derivesLiver Endoderm true
    @pancreas derivesPancreas Endoderm true
    @thyroid derivesThyroid Endoderm true
    @lung derivesLungLining Endoderm true
    @result And $gi (And $liver (And $pancreas (And $thyroid $lung)))
    return $result
end

@:Hox_Genes graph
    @genes isA HoxGenes DevelopmentalGenes
    @function function HoxGenes "body_plan_specification"
    @colinearity showsColinearity HoxGenes true
    @clusters hasClusters HoxGenes [HoxA HoxB HoxC HoxD]
    @conserved evolutionarilyConserved HoxGenes "highly"
    @anteriorPosterior specifiesAP HoxGenes true
    @result And $function (And $colinearity (And $clusters (And $conserved $anteriorPosterior)))
    return $result
end

@:Morphogen_Gradient graph
    @concept isA MorphogenGradient DevelopmentalMechanism
    @signal signalMolecule MorphogenGradient [BMP Shh Wnt]
    @gradient formsGradient MorphogenGradient "concentration_dependent"
    @threshold thresholdDependent MorphogenGradient true
    @position providesPositionalInfo MorphogenGradient true
    @fates specifies MorphogenGradient "different_cell_fates"
    @result And $signal (And $gradient (And $threshold (And $position $fates)))
    return $result
end

@:Apoptosis_Development graph
    @process isA DevelopmentalApoptosis CellProcess
    @removes removesUnwantedCells DevelopmentalApoptosis true
    @digits digitSeparation DevelopmentalApoptosis "finger_formation"
    @neural neuralPruning DevelopmentalApoptosis true
    @immune immuneSelection DevelopmentalApoptosis "remove_autoreactive"
    @controlled isProgrammed DevelopmentalApoptosis true
    @result And $removes (And $digits (And $neural (And $immune $controlled)))
    return $result
end

# ============================================================================
# PART XIII: IMMUNOLOGY DETAILS
# ============================================================================

@:T_Cell_Development graph
    @dev isA TCellDevelopment ImmuneDevelopment
    @origin originatesIn TCellDevelopment BoneMarrow
    @matures maturesIn TCellDevelopment Thymus
    @positive positiveSelection TCellDevelopment "MHC_recognition"
    @negative negativeSelection TCellDevelopment "remove_self_reactive"
    @types producesTypes TCellDevelopment [CD4 CD8]
    @result And $origin (And $matures (And $positive (And $negative $types)))
    return $result
end

@:B_Cell_Development graph
    @dev isA BCellDevelopment ImmuneDevelopment
    @origin originatesIn BCellDevelopment BoneMarrow
    @matures maturesIn BCellDevelopment BoneMarrow
    @rearrangement vdjRearrangement BCellDevelopment true
    @selection negativeSelection BCellDevelopment "remove_self_reactive"
    @produces producesWhenActivated BCellDevelopment [PlasmaCells MemoryBCells]
    @result And $origin (And $matures (And $rearrangement (And $selection $produces)))
    return $result
end

@:Antigen_Presentation graph
    @process isA AntigenPresentation ImmuneProcess
    @mhc1 MHCClassI AntigenPresentation "endogenous_antigens"
    @mhc2 MHCClassII AntigenPresentation "exogenous_antigens"
    @cd8 CD8Recognition AntigenPresentation MHCClassI
    @cd4 CD4Recognition AntigenPresentation MHCClassII
    @apc professionalAPCs AntigenPresentation [DendriticCells Macrophages BCells]
    @result And $mhc1 (And $mhc2 (And $cd8 (And $cd4 $apc)))
    return $result
end

@:Clonal_Selection graph
    @theory isA ClonalSelection ImmuneTheory
    @concept mainConcept ClonalSelection "one_lymphocyte_one_receptor"
    @activation antigenActivates ClonalSelection "specific_clone"
    @expansion clonalExpansion ClonalSelection true
    @differentiation differentiateTo ClonalSelection [EffectorCells MemoryCells]
    @proposed proposedBy ClonalSelection "Burnet"
    @result And $concept (And $activation (And $expansion (And $differentiation $proposed)))
    return $result
end

@:Complement_System graph
    @sys isA ComplementSystem InnateImmune
    @pathways activationPathways ComplementSystem [Classical Alternative Lectin]
    @cascade cascadeProteins ComplementSystem [C1 C2 C3 C4 C5 C6 C7 C8 C9]
    @mac membraneAttackComplex ComplementSystem "C5b-C9"
    @opsonization enhancesPhagocytosis ComplementSystem "C3b"
    @inflammation promotesInflammation ComplementSystem "C3a_C5a"
    @result And $pathways (And $cascade (And $mac (And $opsonization $inflammation)))
    return $result
end

@:Cytokine_Types graph
    @type isA Cytokines ImmuneSignaling
    @interleukins hasInterleukins Cytokines [IL1 IL2 IL4 IL6 IL10 IL12]
    @interferons hasInterferons Cytokines [IFNalpha IFNbeta IFNgamma]
    @tnf hasTNF Cytokines TNFalpha
    @chemokines hasChemokines Cytokines "attract_leukocytes"
    @csf hasCSF Cytokines [GCSF MCSF GMCSF]
    @result And $interleukins (And $interferons (And $tnf (And $chemokines $csf)))
    return $result
end

@:Th1_Th2_Response graph
    @response isA THelperResponse AdaptiveImmune
    @th1 Th1Cytokines THelperResponse [IFNgamma IL2 TNF]
    @th2 Th2Cytokines THelperResponse [IL4 IL5 IL10 IL13]
    @th1_role Th1Role THelperResponse "cell_mediated_immunity"
    @th2_role Th2Role THelperResponse "humoral_immunity"
    @balance th1th2Balance THelperResponse "determines_immune_outcome"
    @result And $th1 (And $th2 (And $th1_role (And $th2_role $balance)))
    return $result
end

@:Inflammatory_Response graph
    @response isA InflammatoryResponse InnateImmune
    @signs cardinalSigns InflammatoryResponse [Redness Heat Swelling Pain]
    @vasodilation causesVasodilation InflammatoryResponse true
    @permeability increasesPermeability InflammatoryResponse true
    @recruitment recruitsCells InflammatoryResponse [Neutrophils Macrophages]
    @mediators inflammatoryMediators InflammatoryResponse [Histamine Prostaglandins Leukotrienes]
    @result And $signs (And $vasodilation (And $permeability (And $recruitment $mediators)))
    return $result
end

# ============================================================================
# PART XIV: NEUROSCIENCE
# ============================================================================

@:Neuron_Structure graph
    @cell isA Neuron CellType
    @soma hasSoma Neuron "cell_body"
    @dendrites hasDendrites Neuron "receive_signals"
    @axon hasAxon Neuron "transmit_signals"
    @terminal hasAxonTerminal Neuron "releases_neurotransmitters"
    @myelin hasMyelinSheath Neuron "speeds_conduction"
    @result And $soma (And $dendrites (And $axon (And $terminal $myelin)))
    return $result
end

@:Synapse_Structure graph
    @structure isA Synapse NeuralStructure
    @presynaptic hasPresynapticTerminal Synapse true
    @cleft hasSynapticCleft Synapse "20nm_gap"
    @postsynaptic hasPostsynapticMembrane Synapse true
    @vesicles containsVesicles Synapse "neurotransmitter_filled"
    @receptors containsReceptors Synapse "postsynaptic"
    @result And $presynaptic (And $cleft (And $postsynaptic (And $vesicles $receptors)))
    return $result
end

@:Resting_Potential graph
    @concept isA RestingPotential NeuralConcept
    @voltage voltage RestingPotential "-70mV"
    @sodium sodiumOutside RestingPotential "high"
    @potassium potassiumInside RestingPotential "high"
    @pump NaKATPase RestingPotential "maintains_gradient"
    @channels leakChannels RestingPotential "potassium_selective"
    @result And $voltage (And $sodium (And $potassium (And $pump $channels)))
    return $result
end

@:Action_Potential_Phases graph
    @ap isA ActionPotential NeuralSignal
    @depol depolarizationPhase ActionPotential "Na_influx"
    @repol repolarizationPhase ActionPotential "K_efflux"
    @hyper hyperpolarizationPhase ActionPotential "undershoot"
    @refractory refractoryPeriod ActionPotential [Absolute Relative]
    @propagation saltatoryConducton ActionPotential "myelinated_axons"
    @result And $depol (And $repol (And $hyper (And $refractory $propagation)))
    return $result
end

@:Neurotransmitter_Types graph
    @nt isA Neurotransmitters NeuralSignaling
    @excitatory excitatoryNT Neurotransmitters [Glutamate Acetylcholine]
    @inhibitory inhibitoryNT Neurotransmitters [GABA Glycine]
    @monoamines monoamineNT Neurotransmitters [Dopamine Serotonin Norepinephrine]
    @peptides peptideNT Neurotransmitters [Endorphins Substance_P]
    @gaseous gaseousNT Neurotransmitters [NitricOxide]
    @result And $excitatory (And $inhibitory (And $monoamines (And $peptides $gaseous)))
    return $result
end

@:Long_Term_Potentiation graph
    @ltp isA LTP NeuralPlasticity
    @mechanism mechanism LTP "synaptic_strengthening"
    @receptor keyReceptor LTP NMDA
    @calcium calciumInflux LTP "triggers_potentiation"
    @ampar AMPARInsertion LTP "increases_sensitivity"
    @learning roleInLearning LTP "memory_formation"
    @result And $mechanism (And $receptor (And $calcium (And $ampar $learning)))
    return $result
end

@:Brain_Regions graph
    @brain isA Brain Organ
    @cerebrum hasCerebrum Brain "higher_functions"
    @cerebellum hasCerebellum Brain "motor_coordination"
    @brainstem hasBrainstem Brain "vital_functions"
    @limbic hasLimbicSystem Brain "emotion_memory"
    @basal hasBasalGanglia Brain "movement_initiation"
    @result And $cerebrum (And $cerebellum (And $brainstem (And $limbic $basal)))
    return $result
end

@:Visual_Processing graph
    @path isA VisualPathway NeuralPathway
    @retina startsAt VisualPathway Retina
    @opticNerve travelsVia VisualPathway OpticNerve
    @chiasm crossesAt VisualPathway OpticChiasm
    @lgn relaysIn VisualPathway LateralGeniculateNucleus
    @cortex endsIn VisualPathway PrimaryVisualCortex
    @processing furtherProcessing VisualPathway [VentralStream DorsalStream]
    @result And $retina (And $opticNerve (And $chiasm (And $lgn (And $cortex $processing))))
    return $result
end

# ============================================================================
# PART XV: PLANT BIOLOGY
# ============================================================================

@:Photosynthesis_Light_Reactions graph
    @phase isA LightReactions PhotosynthesisPhase
    @location occursIn LightReactions ThylakoidMembrane
    @ps2 photosystemII LightReactions "water_splitting"
    @ps1 photosystemI LightReactions "NADP_reduction"
    @etc electronTransport LightReactions "between_PS2_PS1"
    @atp producesATP LightReactions "photophosphorylation"
    @nadph producesNADPH LightReactions true
    @result And $location (And $ps2 (And $ps1 (And $etc (And $atp $nadph))))
    return $result
end

@:Calvin_Cycle graph
    @cycle isA CalvinCycle PhotosynthesisPhase
    @location occursIn CalvinCycle Stroma
    @fixation carbonFixation CalvinCycle RuBisCO
    @reduction reductionPhase CalvinCycle "uses_ATP_NADPH"
    @regeneration rubpRegeneration CalvinCycle true
    @product mainProduct CalvinCycle G3P
    @glucose glucoseSynthesis CalvinCycle "from_2_G3P"
    @result And $location (And $fixation (And $reduction (And $regeneration (And $product $glucose))))
    return $result
end

@:Plant_Hormones graph
    @hormones isA PlantHormones PlantSignaling
    @auxin hasAuxin PlantHormones "cell_elongation"
    @cytokinin hasCytokinin PlantHormones "cell_division"
    @gibberellin hasGibberellin PlantHormones "stem_growth"
    @abscisic hasABA PlantHormones "stress_response"
    @ethylene hasEthylene PlantHormones "fruit_ripening"
    @result And $auxin (And $cytokinin (And $gibberellin (And $abscisic $ethylene)))
    return $result
end

@:Plant_Tissue_Types graph
    @tissues isA PlantTissues PlantAnatomy
    @dermal dermalTissue PlantTissues "epidermis_protection"
    @vascular vascularTissue PlantTissues [Xylem Phloem]
    @ground groundTissue PlantTissues [Parenchyma Collenchyma Sclerenchyma]
    @meristematic meristem PlantTissues "growth_regions"
    @result And $dermal (And $vascular (And $ground $meristematic))
    return $result
end

@:Xylem_Function graph
    @tissue isA Xylem VascularTissue
    @transports transportsXylem Xylem "water_minerals"
    @direction direction Xylem "roots_to_leaves"
    @cells cellTypes Xylem [Tracheids VesselElements]
    @mechanism mechanism Xylem "transpiration_pull"
    @dead cellStatus Xylem "dead_at_maturity"
    @result And $transports (And $direction (And $cells (And $mechanism $dead)))
    return $result
end

@:Phloem_Function graph
    @tissue isA Phloem VascularTissue
    @transports transportsPhloem Phloem "sugars_organic"
    @direction direction Phloem "source_to_sink"
    @cells cellTypes Phloem [SieveTubeElements CompanionCells]
    @mechanism mechanism Phloem "pressure_flow"
    @living cellStatus Phloem "living_at_maturity"
    @result And $transports (And $direction (And $cells (And $mechanism $living)))
    return $result
end

@:Transpiration graph
    @process isA Transpiration PlantProcess
    @water waterLoss Transpiration "through_stomata"
    @stomata stomataControl Transpiration "guard_cells"
    @pull createsTranspirationPull Transpiration true
    @cooling providesCooling Transpiration true
    @factors affectedBy Transpiration [Light Humidity Temperature Wind]
    @result And $water (And $stomata (And $pull (And $cooling $factors)))
    return $result
end

@:Nitrogen_Fixation_Symbiosis graph
    @symbiosis isA NitrogenFixingSymbiosis PlantMicrobeInteraction
    @plant plantHost NitrogenFixingSymbiosis Legumes
    @bacteria bacterialSymbiont NitrogenFixingSymbiosis Rhizobium
    @structure structure NitrogenFixingSymbiosis "root_nodules"
    @enzyme nitrogenaseEnzyme NitrogenFixingSymbiosis "N2_to_NH3"
    @benefit mutualBenefit NitrogenFixingSymbiosis [Nitrogen Carbon]
    @result And $plant (And $bacteria (And $structure (And $enzyme $benefit)))
    return $result
end

# ============================================================================
# PART XVI: DISEASE MECHANISMS
# ============================================================================

@:Cancer_Hallmarks graph
    @disease isA Cancer DiseaseCategory
    @growth sustainedGrowth Cancer "proliferative_signaling"
    @suppressor evadesSuppressors Cancer "tumor_suppressors"
    @death resistsDeath Cancer "apoptosis_evasion"
    @immortal enablesReplication Cancer "telomerase_activation"
    @angiogen inducesAngiogenesis Cancer true
    @metastasis activatesMetastasis Cancer true
    @result And $growth (And $suppressor (And $death (And $immortal (And $angiogen $metastasis))))
    return $result
end

@:Oncogene_Activation graph
    @gene isA Oncogene CancerGene
    @origin originatesFrom Oncogene ProtoOncogene
    @mechanisms activationMechanisms Oncogene [Mutation Amplification Translocation]
    @effect cellularEffect Oncogene "increased_proliferation"
    @examples examples Oncogene [RAS MYC HER2]
    @dominant dominantMutation Oncogene true
    @result And $origin (And $mechanisms (And $effect (And $examples $dominant)))
    return $result
end

@:Tumor_Suppressor_Inactivation graph
    @gene isA TumorSuppressor CancerGene
    @function normalFunction TumorSuppressor "inhibit_proliferation"
    @twoHit requiresTwoHits TumorSuppressor "Knudson_hypothesis"
    @examples examples TumorSuppressor [p53 RB1 BRCA1 BRCA2]
    @lossOfFunction lossOfFunction TumorSuppressor true
    @recessive recessiveMutation TumorSuppressor true
    @result And $function (And $twoHit (And $examples (And $lossOfFunction $recessive)))
    return $result
end

@:Viral_Disease_Mechanism graph
    @path isA ViralPathogenesis DiseaseMechanism
    @attachment viralAttachment ViralPathogenesis "receptor_binding"
    @entry viralEntry ViralPathogenesis [Endocytosis Fusion]
    @replication viralReplication ViralPathogenesis "host_machinery"
    @assembly viralAssembly ViralPathogenesis "new_virions"
    @release viralRelease ViralPathogenesis [Budding Lysis]
    @result And $attachment (And $entry (And $replication (And $assembly $release)))
    return $result
end

@:Bacterial_Pathogenesis graph
    @path isA BacterialPathogenesis DiseaseMechanism
    @adhesion bacterialAdhesion BacterialPathogenesis "colonization"
    @invasion tissueInvasion BacterialPathogenesis true
    @toxins producesToxins BacterialPathogenesis [Exotoxins Endotoxins]
    @evasion immuneEvasion BacterialPathogenesis [Capsule AntigenicVariation]
    @damage tissueDamage BacterialPathogenesis true
    @result And $adhesion (And $invasion (And $toxins (And $evasion $damage)))
    return $result
end

@:Autoimmune_Disease graph
    @disease isA AutoimmuneDisease ImmuneDisorder
    @mechanism mechanism AutoimmuneDisease "self_tolerance_breakdown"
    @targets targetsAutoantigen AutoimmuneDisease true
    @genetics geneticPredisposition AutoimmuneDisease "HLA_associations"
    @examples examples AutoimmuneDisease [Type1Diabetes MS Lupus RheumatoidArthritis]
    @treatment treatmentApproach AutoimmuneDisease "immunosuppression"
    @result And $mechanism (And $targets (And $genetics (And $examples $treatment)))
    return $result
end

@:Prion_Disease graph
    @disease isA PrionDisease Neurodegeneration
    @agent causativeAgent PrionDisease "misfolded_protein"
    @protein normalProtein PrionDisease "PrP"
    @conversion proteinConversion PrionDisease "PrPC_to_PrPSc"
    @transmissible isTransmissible PrionDisease true
    @examples examples PrionDisease [CJD Kuru BSE Scrapie]
    @result And $agent (And $protein (And $conversion (And $transmissible $examples)))
    return $result
end

@:Diabetes_Type1_Mechanism graph
    @disease isA Type1Diabetes MetabolicDisease
    @autoimmune isAutoimmune Type1Diabetes true
    @target targetCells Type1Diabetes "pancreatic_beta_cells"
    @antibodies hasAutoantibodies Type1Diabetes [GAD65 IA2 Insulin]
    @result resultingDeficiency Type1Diabetes "absolute_insulin_deficiency"
    @treatment requiresTreatment Type1Diabetes "insulin_replacement"
    @result And $autoimmune (And $target (And $antibodies (And $result $treatment)))
    return $result
end

# ============================================================================
# PART XVII: ADDITIONAL INFERENCE RULES
# ============================================================================

@:Enzyme_Substrate_Inference graph Enzyme Substrate Product
    @e isA $Enzyme Enzyme
    @binds binds $Enzyme $Substrate
    @catalyzes catalyzes $Enzyme Reaction
    @produces producesProduct Reaction $Product
    @premise And $binds $catalyzes
    @conclusion converts $Enzyme $Substrate $Product
    @rule Implies $premise $conclusion
    return $rule
end

@:Pathway_Connection_Inference graph Pathway1 Pathway2 SharedMetabolite
    @p1 producesProduct $Pathway1 $SharedMetabolite
    @p2 usesSubstrate $Pathway2 $SharedMetabolite
    @premise And $p1 $p2
    @conclusion areConnected $Pathway1 $Pathway2
    @rule Implies $premise $conclusion
    return $rule
end

@:Gene_Expression_Inference graph Gene TF Active
    @tf binds $TF promoterOf $Gene
    @active isActive $TF true
    @premise And $tf $active
    @conclusion isExpressed $Gene true
    @rule Implies $premise $conclusion
    return $rule
end

@:Signal_Transduction_Inference graph Ligand Receptor Response
    @binds binds $Ligand $Receptor
    @activates activates $Receptor SignalCascade
    @leads leadsTo SignalCascade $Response
    @premise And $binds (And $activates $leads)
    @conclusion causes $Ligand $Response
    @rule Implies $premise $conclusion
    return $rule
end

@:Ecological_Energy_Inference graph Producer Consumer TrophicLevel
    @p isA $Producer Producer
    @c feedsOn $Consumer $Producer
    @premise And $p $c
    @c_level trophicLevel $Consumer PrimaryConsumer
    @rule Implies $premise $c_level
    return $rule
end

@:Disease_Symptom_Inference graph Pathogen Mechanism Symptom
    @causes causes $Pathogen $Mechanism
    @leads leadTo $Mechanism $Symptom
    @premise And $causes $leads
    @conclusion presentsSymptom $Pathogen $Symptom
    @rule Implies $premise $conclusion
    return $rule
end

@:Drug_Target_Inference graph Drug Target Effect
    @binds binds $Drug $Target
    @modulates modulates $Drug $Target
    @premise And $binds $modulates
    @conclusion produces $Drug $Effect
    @rule Implies $premise $conclusion
    return $rule
end

@:Inheritance_Pattern_Inference graph Trait Dominant Recessive
    @p1 carriesAllele Parent1 $Dominant
    @p2 carriesAllele Parent2 $Recessive
    @premise And $p1 $p2
    @offspring expressesTrait Offspring $Dominant
    @rule Implies $premise $offspring
    return $rule
end

# ============================================================================
# PART XII: DETAILED BIOCHEMISTRY - Amino Acids & Proteins
# ============================================================================

@:Amino_Acid_Alanine graph
    @aa isA Alanine AminoAcid
    @essential hasProperty Alanine NonEssential
    @polar hasProperty Alanine Nonpolar
    @codon1 encodedBy Alanine GCU
    @codon2 encodedBy Alanine GCC
    @codon3 encodedBy Alanine GCA
    @codon4 encodedBy Alanine GCG
    return And $aa (And $essential (And $polar (And $codon1 (And $codon2 (And $codon3 $codon4)))))
end

@:Amino_Acid_Arginine graph
    @aa isA Arginine AminoAcid
    @essential hasProperty Arginine SemiEssential
    @polar hasProperty Arginine Polar
    @charge hasProperty Arginine PositiveCharge
    @codon1 encodedBy Arginine CGU
    @codon2 encodedBy Arginine CGC
    @codon3 encodedBy Arginine CGA
    @codon4 encodedBy Arginine CGG
    @codon5 encodedBy Arginine AGA
    @codon6 encodedBy Arginine AGG
    return And $aa (And $essential (And $polar (And $charge $codon1)))
end

@:Amino_Acid_Asparagine graph
    @aa isA Asparagine AminoAcid
    @essential hasProperty Asparagine NonEssential
    @polar hasProperty Asparagine Polar
    @codon1 encodedBy Asparagine AAU
    @codon2 encodedBy Asparagine AAC
    return And $aa (And $essential (And $polar (And $codon1 $codon2)))
end

@:Amino_Acid_Aspartate graph
    @aa isA Aspartate AminoAcid
    @essential hasProperty Aspartate NonEssential
    @polar hasProperty Aspartate Polar
    @charge hasProperty Aspartate NegativeCharge
    @codon1 encodedBy Aspartate GAU
    @codon2 encodedBy Aspartate GAC
    return And $aa (And $essential (And $polar (And $charge (And $codon1 $codon2))))
end

@:Amino_Acid_Cysteine graph
    @aa isA Cysteine AminoAcid
    @essential hasProperty Cysteine SemiEssential
    @polar hasProperty Cysteine Polar
    @special hasProperty Cysteine DisulfideBondForming
    @codon1 encodedBy Cysteine UGU
    @codon2 encodedBy Cysteine UGC
    return And $aa (And $essential (And $polar (And $special (And $codon1 $codon2))))
end

@:Amino_Acid_Glutamate graph
    @aa isA Glutamate AminoAcid
    @essential hasProperty Glutamate NonEssential
    @polar hasProperty Glutamate Polar
    @charge hasProperty Glutamate NegativeCharge
    @neuro hasProperty Glutamate ExcitatoryNeurotransmitter
    @codon1 encodedBy Glutamate GAA
    @codon2 encodedBy Glutamate GAG
    return And $aa (And $essential (And $polar (And $charge (And $neuro (And $codon1 $codon2)))))
end

@:Amino_Acid_Glutamine graph
    @aa isA Glutamine AminoAcid
    @essential hasProperty Glutamine NonEssential
    @polar hasProperty Glutamine Polar
    @codon1 encodedBy Glutamine CAA
    @codon2 encodedBy Glutamine CAG
    return And $aa (And $essential (And $polar (And $codon1 $codon2)))
end

@:Amino_Acid_Glycine graph
    @aa isA Glycine AminoAcid
    @essential hasProperty Glycine NonEssential
    @polar hasProperty Glycine Nonpolar
    @special hasProperty Glycine SmallestAminoAcid
    @codon1 encodedBy Glycine GGU
    @codon2 encodedBy Glycine GGC
    @codon3 encodedBy Glycine GGA
    @codon4 encodedBy Glycine GGG
    return And $aa (And $essential (And $polar (And $special $codon1)))
end

@:Amino_Acid_Histidine graph
    @aa isA Histidine AminoAcid
    @essential hasProperty Histidine Essential
    @polar hasProperty Histidine Polar
    @charge hasProperty Histidine PositiveCharge
    @codon1 encodedBy Histidine CAU
    @codon2 encodedBy Histidine CAC
    return And $aa (And $essential (And $polar (And $charge (And $codon1 $codon2))))
end

@:Amino_Acid_Isoleucine graph
    @aa isA Isoleucine AminoAcid
    @essential hasProperty Isoleucine Essential
    @polar hasProperty Isoleucine Nonpolar
    @hydrophobic hasProperty Isoleucine Hydrophobic
    @codon1 encodedBy Isoleucine AUU
    @codon2 encodedBy Isoleucine AUC
    @codon3 encodedBy Isoleucine AUA
    return And $aa (And $essential (And $polar (And $hydrophobic (And $codon1 (And $codon2 $codon3)))))
end

@:Amino_Acid_Leucine graph
    @aa isA Leucine AminoAcid
    @essential hasProperty Leucine Essential
    @polar hasProperty Leucine Nonpolar
    @hydrophobic hasProperty Leucine Hydrophobic
    @codon1 encodedBy Leucine UUA
    @codon2 encodedBy Leucine UUG
    @codon3 encodedBy Leucine CUU
    @codon4 encodedBy Leucine CUC
    @codon5 encodedBy Leucine CUA
    @codon6 encodedBy Leucine CUG
    return And $aa (And $essential (And $polar (And $hydrophobic $codon1)))
end

@:Amino_Acid_Lysine graph
    @aa isA Lysine AminoAcid
    @essential hasProperty Lysine Essential
    @polar hasProperty Lysine Polar
    @charge hasProperty Lysine PositiveCharge
    @codon1 encodedBy Lysine AAA
    @codon2 encodedBy Lysine AAG
    return And $aa (And $essential (And $polar (And $charge (And $codon1 $codon2))))
end

@:Amino_Acid_Methionine graph
    @aa isA Methionine AminoAcid
    @essential hasProperty Methionine Essential
    @polar hasProperty Methionine Nonpolar
    @special hasProperty Methionine StartCodon
    @codon encodedBy Methionine AUG
    return And $aa (And $essential (And $polar (And $special $codon)))
end

@:Amino_Acid_Phenylalanine graph
    @aa isA Phenylalanine AminoAcid
    @essential hasProperty Phenylalanine Essential
    @polar hasProperty Phenylalanine Nonpolar
    @aromatic hasProperty Phenylalanine Aromatic
    @codon1 encodedBy Phenylalanine UUU
    @codon2 encodedBy Phenylalanine UUC
    return And $aa (And $essential (And $polar (And $aromatic (And $codon1 $codon2))))
end

@:Amino_Acid_Proline graph
    @aa isA Proline AminoAcid
    @essential hasProperty Proline NonEssential
    @polar hasProperty Proline Nonpolar
    @special hasProperty Proline HelixBreaker
    @codon1 encodedBy Proline CCU
    @codon2 encodedBy Proline CCC
    @codon3 encodedBy Proline CCA
    @codon4 encodedBy Proline CCG
    return And $aa (And $essential (And $polar (And $special $codon1)))
end

@:Amino_Acid_Serine graph
    @aa isA Serine AminoAcid
    @essential hasProperty Serine NonEssential
    @polar hasProperty Serine Polar
    @phospho hasProperty Serine PhosphorylationSite
    @codon1 encodedBy Serine UCU
    @codon2 encodedBy Serine UCC
    @codon3 encodedBy Serine UCA
    @codon4 encodedBy Serine UCG
    @codon5 encodedBy Serine AGU
    @codon6 encodedBy Serine AGC
    return And $aa (And $essential (And $polar (And $phospho $codon1)))
end

@:Amino_Acid_Threonine graph
    @aa isA Threonine AminoAcid
    @essential hasProperty Threonine Essential
    @polar hasProperty Threonine Polar
    @phospho hasProperty Threonine PhosphorylationSite
    @codon1 encodedBy Threonine ACU
    @codon2 encodedBy Threonine ACC
    @codon3 encodedBy Threonine ACA
    @codon4 encodedBy Threonine ACG
    return And $aa (And $essential (And $polar (And $phospho $codon1)))
end

@:Amino_Acid_Tryptophan graph
    @aa isA Tryptophan AminoAcid
    @essential hasProperty Tryptophan Essential
    @polar hasProperty Tryptophan Nonpolar
    @aromatic hasProperty Tryptophan Aromatic
    @special hasProperty Tryptophan LargestAminoAcid
    @codon encodedBy Tryptophan UGG
    return And $aa (And $essential (And $polar (And $aromatic (And $special $codon))))
end

@:Amino_Acid_Tyrosine graph
    @aa isA Tyrosine AminoAcid
    @essential hasProperty Tyrosine SemiEssential
    @polar hasProperty Tyrosine Polar
    @aromatic hasProperty Tyrosine Aromatic
    @phospho hasProperty Tyrosine PhosphorylationSite
    @codon1 encodedBy Tyrosine UAU
    @codon2 encodedBy Tyrosine UAC
    return And $aa (And $essential (And $polar (And $aromatic (And $phospho (And $codon1 $codon2)))))
end

@:Amino_Acid_Valine graph
    @aa isA Valine AminoAcid
    @essential hasProperty Valine Essential
    @polar hasProperty Valine Nonpolar
    @hydrophobic hasProperty Valine Hydrophobic
    @codon1 encodedBy Valine GUU
    @codon2 encodedBy Valine GUC
    @codon3 encodedBy Valine GUA
    @codon4 encodedBy Valine GUG
    return And $aa (And $essential (And $polar (And $hydrophobic $codon1)))
end

# ============================================================================
# PROTEIN STRUCTURE LEVELS
# ============================================================================

@:Protein_Primary_Structure graph Protein Sequence
    @level hasStructureLevel $Protein Primary
    @def definedBy Primary AminoAcidSequence
    @bond stabilizedBy Primary PeptideBonds
    @direction hasProperty Primary NtoCterminus
    return And $level (And $def (And $bond $direction))
end

@:Protein_Secondary_Structure graph Protein Motif
    @level hasStructureLevel $Protein Secondary
    @alpha isA AlphaHelix SecondaryStructure
    @beta isA BetaSheet SecondaryStructure
    @turn isA BetaTurn SecondaryStructure
    @hbond stabilizedBy Secondary HydrogenBonds
    return And $level (And $alpha (And $beta (And $turn $hbond)))
end

@:Protein_Tertiary_Structure graph Protein FoldedShape
    @level hasStructureLevel $Protein Tertiary
    @def definedBy Tertiary ThreeDimensionalFold
    @hydro stabilizedBy Tertiary HydrophobicInteractions
    @disulf stabilizedBy Tertiary DisulfideBonds
    @ionic stabilizedBy Tertiary IonicBonds
    @vdw stabilizedBy Tertiary VanDerWaals
    return And $level (And $def (And $hydro (And $disulf (And $ionic $vdw))))
end

@:Protein_Quaternary_Structure graph Complex Subunits
    @level hasStructureLevel $Complex Quaternary
    @def definedBy Quaternary MultipleSubunits
    @example1 hasStructure Hemoglobin Quaternary
    @example2 hasStructure DNAPolymerase Quaternary
    @inter stabilizedBy Quaternary SubunitInteractions
    return And $level (And $def (And $example1 (And $example2 $inter)))
end

# ============================================================================
# ENZYME KINETICS
# ============================================================================

@:Michaelis_Menten_Kinetics graph Enzyme Substrate Product
    @enzyme isA $Enzyme Enzyme
    @substrate binds $Enzyme $Substrate
    @complex forms $Enzyme ES_Complex
    @km hasProperty $Enzyme MichaelisConstant
    @vmax hasProperty $Enzyme MaximalVelocity
    @rate rateEquation $Enzyme Vmax_S_div_Km_plus_S
    return And $enzyme (And $substrate (And $complex (And $km (And $vmax $rate))))
end

@:Competitive_Inhibition graph Enzyme Inhibitor Substrate
    @enzyme isA $Enzyme Enzyme
    @inhib binds $Inhibitor ActiveSite
    @competes competesWith $Inhibitor $Substrate
    @km_app increases $Inhibitor ApparentKm
    @vmax_unchanged unchanged $Inhibitor Vmax
    @overcome canBeOvercome $Inhibitor HighSubstrate
    return And $enzyme (And $inhib (And $competes (And $km_app (And $vmax_unchanged $overcome))))
end

@:Noncompetitive_Inhibition graph Enzyme Inhibitor AllostericSite
    @enzyme isA $Enzyme Enzyme
    @inhib binds $Inhibitor $AllostericSite
    @different differentFrom $AllostericSite ActiveSite
    @km_unchanged unchanged $Inhibitor Km
    @vmax_decreases decreases $Inhibitor Vmax
    @not_overcome cannotBeOvercome $Inhibitor HighSubstrate
    return And $enzyme (And $inhib (And $different (And $km_unchanged (And $vmax_decreases $not_overcome))))
end

@:Uncompetitive_Inhibition graph Enzyme Inhibitor ES_Complex
    @enzyme isA $Enzyme Enzyme
    @inhib binds $Inhibitor $ES_Complex
    @requires requiresFor $Inhibitor SubstrateBinding
    @km_app decreases $Inhibitor ApparentKm
    @vmax_decreases decreases $Inhibitor Vmax
    @ratio maintainsRatio $Inhibitor Vmax_to_Km
    return And $enzyme (And $inhib (And $requires (And $km_app (And $vmax_decreases $ratio))))
end

@:Allosteric_Regulation graph Enzyme Effector Conformation
    @enzyme isA $Enzyme AllostericEnzyme
    @effector binds $Effector AllostericSite
    @r_state hasConformation $Enzyme R_State
    @t_state hasConformation $Enzyme T_State
    @activator shifts Activator TowardR
    @inhibitor shifts Inhibitor TowardT
    @cooperative hasProperty $Enzyme Cooperativity
    return And $enzyme (And $effector (And $r_state (And $t_state (And $activator (And $inhibitor $cooperative)))))
end

# ============================================================================
# DNA REPLICATION DETAILS
# ============================================================================

@:Replication_Origin graph Origin Initiation
    @origin isA OriC ReplicationOrigin
    @atrich hasProperty OriC ATRich
    @dnaA binds DnaA OriC
    @unwinding initiates DnaA Unwinding
    @dnab loads DnaB OriC
    @helicase activates DnaB HelicaseActivity
    return And $origin (And $atrich (And $dnaA (And $unwinding (And $dnab $helicase))))
end

@:Leading_Strand_Synthesis graph Polymerase Template Product
    @template isA LeadingStrandTemplate Template
    @direction synthesisDirection LeadingStrand FiveToThree
    @continuous hasProperty LeadingStrand ContinuousSynthesis
    @primase requires LeadingStrand SinglePrimer
    @polIII catalyzes DNAPolIII LeadingStrandSynthesis
    @processivity hasProperty DNAPolIII HighProcessivity
    return And $template (And $direction (And $continuous (And $primase (And $polIII $processivity))))
end

@:Lagging_Strand_Synthesis graph Polymerase Template OkazakiFragments
    @template isA LaggingStrandTemplate Template
    @direction synthesisDirection LaggingStrand FiveToThree
    @discontinuous hasProperty LaggingStrand DiscontinuousSynthesis
    @okazaki produces LaggingStrand OkazakiFragments
    @primase requires LaggingStrand MultiplePrimers
    @polI removes DNAPolI RNAPrimers
    @ligase joins DNALigase OkazakiFragments
    return And $template (And $direction (And $discontinuous (And $okazaki (And $primase (And $polI $ligase)))))
end

@:Telomere_Replication graph Telomere Telomerase Extension
    @end isA Telomere ChromosomeEnd
    @repeat hasSequence Telomere TTAGGG
    @problem hasProperty Telomere EndReplicationProblem
    @shortening hasProperty SomaticCells TelomereShortening
    @telomerase reverseTranscribes Telomerase Telomere
    @template hasProperty Telomerase RNATemplate
    @immortal expressedIn Telomerase StemCells
    @cancer overexpressedIn Telomerase CancerCells
    return And $end (And $repeat (And $problem (And $shortening (And $telomerase (And $template (And $immortal $cancer))))))
end

# ============================================================================
# TRANSCRIPTION DETAILS
# ============================================================================

@:Promoter_Recognition graph Promoter TFIID TranscriptionStart
    @promoter isA $Promoter Promoter
    @tata hasElement $Promoter TATABox
    @tata_seq hasSequence TATABox TATAAA
    @position locatedAt TATABox Minus25
    @tbp binds TBP TATABox
    @tfiid contains TFIID TBP
    @tafs contains TFIID TAFs
    return And $promoter (And $tata (And $tata_seq (And $position (And $tbp (And $tfiid $tafs)))))
end

@:Transcription_Initiation graph RNAP Promoter PIC
    @pic forms PIC Promoter
    @tfiid binds TFIID TATABox
    @tfiib binds TFIIB BRE
    @tfiif recruits TFIIF RNAPolII
    @tfiie binds TFIIE Promoter
    @tfiih binds TFIIH Promoter
    @helicase hasActivity TFIIH Helicase
    @kinase hasActivity TFIIH Kinase
    @ctd phosphorylates TFIIH CTD
    return And $pic (And $tfiid (And $tfiib (And $tfiif (And $tfiie (And $tfiih (And $helicase (And $kinase $ctd)))))))
end

@:Transcription_Elongation graph RNAP Template mRNA
    @polii isA RNAPolII RNAPolymerase
    @elongation phase $polii Elongation
    @rate elongationRate $polii NucleotidesPerSecond
    @ctd_phos phosphorylated CTD Ser2
    @ptef recruits CTD_pSer2 PTEF
    @spt4 associates SPT4_SPT5 $polii
    @proofreading hasProperty $polii Proofreading
    return And $polii (And $elongation (And $rate (And $ctd_phos (And $ptef (And $spt4 $proofreading)))))
end

@:Transcription_Termination graph RNAP TerminationSignal Release
    @polii isA RNAPolII RNAPolymerase
    @poly_a recognizes $polii PolyASignal
    @aauaaa hasSequence PolyASignal AAUAAA
    @cpsf binds CPSF PolyASignal
    @cstf binds CstF DSE
    @cleavage cleaves CPSF_CstF mRNA
    @release releasesFrom $polii Template
    return And $polii (And $poly_a (And $aauaaa (And $cpsf (And $cstf (And $cleavage $release)))))
end

# ============================================================================
# RNA PROCESSING
# ============================================================================

@:Five_Prime_Capping graph mRNA Cap CapBindingComplex
    @capping isProcess FivePrimeCapping
    @gtpase adds GTpase Guanine
    @methylase methylates Methyltransferase Cap
    @cap7 forms mRNA SevenMethylGuanosine
    @cbc binds CBC Cap
    @cbc20 contains CBC CBC20
    @cbc80 contains CBC CBC80
    @protect protectsFrom Cap Degradation
    @export requiredFor Cap NuclearExport
    return And $capping (And $gtpase (And $methylase (And $cap7 (And $cbc (And $cbc20 (And $cbc80 (And $protect $export)))))))
end

@:Splicing_Mechanism graph preRNA Spliceosome mRNA
    @splicing isProcess Splicing
    @intron removes Splicing Introns
    @exon joins Splicing Exons
    @donor hasSequence DonorSite GU
    @acceptor hasSequence AcceptorSite AG
    @branch hasBranchpoint Intron Adenine
    @u1 recognizes U1snRNP DonorSite
    @u2 recognizes U2snRNP BranchPoint
    @tri forms U4_U5_U6 TrisnRNP
    @lariat forms Intron Lariat
    return And $splicing (And $intron (And $exon (And $donor (And $acceptor (And $branch (And $u1 (And $u2 (And $tri $lariat))))))))
end

@:Alternative_Splicing graph preRNA IsoformA IsoformB
    @altsplice isProcess AlternativeSplicing
    @exonskip typeOf ExonSkipping $altsplice
    @mutexc typeOf MutuallyExclusiveExons $altsplice
    @altdonor typeOf AlternativeDonor $altsplice
    @altaccept typeOf AlternativeAcceptor $altsplice
    @intronret typeOf IntronRetention $altsplice
    @diversity increases $altsplice ProteomeDiversity
    @tissue regulatedBy $altsplice TissueSpecificFactors
    return And $altsplice (And $exonskip (And $mutexc (And $altdonor (And $altaccept (And $intronret (And $diversity $tissue))))))
end

@:Polyadenylation graph mRNA PolyATail Stability
    @polya isProcess Polyadenylation
    @signal recognizes CPSF AAUAAA
    @cleavage cleaves mRNA Downstream
    @pap adds PAP Adenines
    @length hasLength PolyATail 200_Nucleotides
    @pabp binds PABP PolyATail
    @stability enhances PolyATail mRNAStability
    @export facilitates PolyATail NuclearExport
    return And $polya (And $signal (And $cleavage (And $pap (And $length (And $pabp (And $stability $export))))))
end

# ============================================================================
# TRANSLATION DETAILS
# ============================================================================

@:Translation_Initiation_Eukaryotic graph mRNA Ribosome StartCodon
    @init isProcess TranslationInitiation
    @eif4e binds eIF4E FivePrimeCap
    @eif4g scaffolds eIF4G InitiationFactors
    @eif4a unwinds eIF4A mRNAStructure
    @eif2 delivers eIF2 Met_tRNA
    @fortythrees assembles 43S PreinitComplex
    @scanning scans 43S UTR
    @kozak recognizes 43S KozakSequence
    @start locates 43S AUG
    @sixtyj joins 60S 43S
    @eighty forms 80S Ribosome
    return And $init (And $eif4e (And $eif4g (And $eif4a (And $eif2 (And $fortythrees (And $scanning (And $kozak (And $start $sixtyj))))))))
end

@:Translation_Elongation_Cycle graph Ribosome tRNA Peptide
    @elong isProcess TranslationElongation
    @asite isA ASite RibosomalSite
    @psite isA PSite RibosomalSite
    @esite isA ESite RibosomalSite
    @ef1a delivers EF1A AminoacylTRNA
    @gtp hydrolyzes EF1A GTP
    @peptidyl catalyzes PeptidylTransferase PeptideBond
    @ef2 catalyzes EF2 Translocation
    @shift moves Ribosome ThreeNucleotides
    return And $elong (And $asite (And $psite (And $esite (And $ef1a (And $gtp (And $peptidyl (And $ef2 $shift)))))))
end

@:Translation_Termination graph Ribosome StopCodon ReleasedProtein
    @term isProcess TranslationTermination
    @stop1 isA UAA StopCodon
    @stop2 isA UAG StopCodon
    @stop3 isA UGA StopCodon
    @erf1 recognizes eRF1 StopCodon
    @erf3 binds eRF3 eRF1
    @gtp hydrolyzes eRF3 GTP
    @release releases eRF1 Polypeptide
    @disassemble dissociates Ribosome Subunits
    return And $term (And $stop1 (And $stop2 (And $stop3 (And $erf1 (And $erf3 (And $gtp (And $release $disassemble)))))))
end

# ============================================================================
# CELL CYCLE REGULATION
# ============================================================================

@:G1_S_Checkpoint graph Cell CyclinD CDK4
    @checkpoint isA G1_S_Checkpoint CellCycleCheckpoint
    @cyclind expression CyclinD GrowthFactorDependent
    @cdk4 forms CyclinD_CDK4 Complex
    @cdk6 forms CyclinD_CDK6 Complex
    @rb phosphorylates CyclinD_CDK4 Rb
    @e2f releases pRb E2F
    @activate activates E2F SPhaseGenes
    @cycline induces E2F CyclinE
    @cdk2 forms CyclinE_CDK2 Complex
    return And $checkpoint (And $cyclind (And $cdk4 (And $cdk6 (And $rb (And $e2f (And $activate (And $cycline $cdk2)))))))
end

@:S_Phase_Regulation graph Cell CyclinA CDK2
    @sphase isPhase S CellCycle
    @cyclina expression CyclinA EarlyS
    @complex forms CyclinA_CDK2 Complex
    @origins fires $complex ReplicationOrigins
    @orc binds ORC Origins
    @mcm loads MCM Origins
    @cdt1 required Cdt1 MCMLoading
    @geminin inhibits Geminin Cdt1
    @rereplication prevents Geminin Rereplication
    return And $sphase (And $cyclina (And $complex (And $origins (And $orc (And $mcm (And $cdt1 (And $geminin $rereplication)))))))
end

@:G2_M_Checkpoint graph Cell CyclinB CDK1
    @checkpoint isA G2_M_Checkpoint CellCycleCheckpoint
    @cyclinb expression CyclinB LateG2
    @cdk1 forms CyclinB_CDK1 MPF
    @wee1 phosphorylates Wee1 CDK1_Tyr15
    @myt1 phosphorylates Myt1 CDK1_Thr14
    @inactive maintains Wee1_Myt1 InactiveMPF
    @cdc25 dephosphorylates Cdc25 CDK1
    @activate activates Cdc25 MPF
    @nuclear accumulates CyclinB Nucleus
    @mitosis triggers MPF MitosisEntry
    return And $checkpoint (And $cyclinb (And $cdk1 (And $wee1 (And $myt1 (And $inactive (And $cdc25 (And $activate (And $nuclear $mitosis))))))))
end

@:Spindle_Assembly_Checkpoint graph Cell Kinetochore APC_C
    @sac isA SAC SpindleAssemblyCheckpoint
    @unattached detects SAC UnattachedKinetochores
    @mad1 binds Mad1 Kinetochore
    @mad2 converts Mad1 Mad2_Active
    @mcc forms MCC BubR1_Bub3_Mad2
    @apcc inhibits MCC APC_C
    @cdc20 sequesters MCC Cdc20
    @attached allKinetochores Attached
    @release releases Attached MCC
    @active activates Cdc20 APC_C
    @securin degrades APC_C Securin
    @separase releases Securin Separase
    return And $sac (And $unattached (And $mad1 (And $mad2 (And $mcc (And $apcc (And $cdc20 (And $attached (And $release (And $active (And $securin $separase))))))))))
end

# ============================================================================
# APOPTOSIS PATHWAYS
# ============================================================================

@:Intrinsic_Apoptosis graph Cell Mitochondria Caspase9
    @intrinsic isA IntrinsicPathway ApoptosisPathway
    @stress triggers CellularStress IntrinsicPathway
    @bax activates Stress Bax
    @bak activates Stress Bak
    @oligomer forms Bax_Bak Oligomer
    @momp causes Oligomer MOMP
    @cytc releases Mitochondria CytochromeC
    @apaf binds CytochromeC Apaf1
    @apoptosome forms Apaf1 Apoptosome
    @casp9 activates Apoptosome Caspase9
    @casp3 activates Caspase9 Caspase3
    return And $intrinsic (And $stress (And $bax (And $bak (And $oligomer (And $momp (And $cytc (And $apaf (And $apoptosome (And $casp9 $casp3)))))))))
end

@:Extrinsic_Apoptosis graph Cell DeathReceptor Caspase8
    @extrinsic isA ExtrinsicPathway ApoptosisPathway
    @fasl binds FasL FasReceptor
    @trail binds TRAIL DR4_DR5
    @tnfa binds TNFAlpha TNFR1
    @disc forms DeathReceptor DISC
    @fadd recruits DISC FADD
    @procasp8 recruits FADD ProCaspase8
    @casp8 activates DISC Caspase8
    @bid cleaves Caspase8 Bid
    @tbid forms Bid tBid
    @crosstalk activates tBid IntrinsicPathway
    return And $extrinsic (And $fasl (And $trail (And $tnfa (And $disc (And $fadd (And $procasp8 (And $casp8 (And $bid (And $tbid $crosstalk)))))))))
end

@:Caspase_Cascade graph InitiatorCaspase EffectorCaspase Substrates
    @cascade isA CaspaseCascade ApoptoticMechanism
    @initiator isA Caspase8_9 InitiatorCaspase
    @effector isA Caspase3_6_7 EffectorCaspase
    @activate activates $InitiatorCaspase $EffectorCaspase
    @parp cleaves Caspase3 PARP
    @icad cleaves Caspase3 ICAD
    @cad activates ICAD_Cleavage CAD
    @dna fragments CAD DNA
    @lamins cleaves Caspase6 Lamins
    @nuclear causes LaminCleavage NuclearCollapse
    return And $cascade (And $initiator (And $effector (And $activate (And $parp (And $icad (And $cad (And $dna (And $lamins $nuclear))))))))
end

@:Bcl2_Family_Regulation graph ProApoptotic AntiApoptotic BH3Only
    @bcl2fam isA Bcl2Family ApoptosisRegulators
    @antiapop isA Bcl2_BclXL_Mcl1 AntiApoptotic
    @proapop isA Bax_Bak ProApoptotic
    @bh3 isA Bid_Bim_Bad_Puma_Noxa BH3Only
    @sequester sequesters $AntiApoptotic $ProApoptotic
    @inhibit inhibits $AntiApoptotic MOMP
    @activate activates $BH3Only $ProApoptotic
    @displace displaces $BH3Only AntiApoptotic
    @balance determines ProAntiBalance CellFate
    return And $bcl2fam (And $antiapop (And $proapop (And $bh3 (And $sequester (And $inhibit (And $activate (And $displace $balance)))))))
end

# ============================================================================
# IMMUNE CELL DEVELOPMENT
# ============================================================================

@:Hematopoiesis graph HSC BloodCells BoneMarrow
    @hema isProcess Hematopoiesis
    @hsc isA HSC HematopoieticStemCell
    @self hasProperty HSC SelfRenewal
    @multi hasProperty HSC Multipotency
    @mpp differentiates HSC MPP
    @clp forms MPP CLP
    @cmp forms MPP CMP
    @lymphoid produces CLP LymphoidCells
    @myeloid produces CMP MyeloidCells
    @niche supports BoneMarrowNiche HSC
    return And $hema (And $hsc (And $self (And $multi (And $mpp (And $clp (And $cmp (And $lymphoid (And $myeloid $niche))))))))
end

@:T_Cell_Development graph Thymocyte TCR MatureT
    @tdev isProcess TCellDevelopment
    @prog enters Progenitor Thymus
    @dn isStage DoubleNegative Early
    @rearrange rearranges DN TCRBeta
    @betasel undergoes DN BetaSelection
    @dp becomes DN DoublePositive
    @bothrec expresses DP CD4_CD8
    @alpharearr rearranges DP TCRAlpha
    @pos undergoes DP PositiveSelection
    @neg undergoes DP NegativeSelection
    @sp becomes DP SinglePositive
    return And $tdev (And $prog (And $dn (And $rearrange (And $betasel (And $dp (And $bothrec (And $alpharearr (And $pos (And $neg $sp)))))))))
end

@:B_Cell_Development graph ProB PreB MatureB
    @bdev isProcess BCellDevelopment
    @prob isStage ProB Early
    @heavyrearr rearranges ProB HeavyChain
    @preb isStage PreB Intermediate
    @prebcr expresses PreB PreBCR
    @lightrearr rearranges PreB LightChain
    @immature isStage ImmatureB Late
    @igm expresses ImmatureB IgM
    @central undergoes ImmatureB CentralTolerance
    @transit migrates ImmatureB Periphery
    @mature expresses MatureB IgM_IgD
    return And $bdev (And $prob (And $heavyrearr (And $preb (And $prebcr (And $lightrearr (And $immature (And $igm (And $central (And $transit $mature)))))))))
end

@:VDJ_Recombination graph IgGene RAG Diversity
    @vdj isProcess VDJRecombination
    @v isSegment V VariableSegment
    @d isSegment D DiversitySegment
    @j isSegment J JoiningSegment
    @rag catalyzes RAG1_RAG2 Recombination
    @rss recognizes RAG RSS
    @hairpin creates RAG DNAHairpin
    @artemis opens Artemis Hairpin
    @tdt adds TdT NTemplateNucleotides
    @junctional creates TdT JunctionalDiversity
    @unique generates VDJ UniqueReceptor
    return And $vdj (And $v (And $d (And $j (And $rag (And $rss (And $hairpin (And $artemis (And $tdt (And $junctional $unique)))))))))
end

# ============================================================================
# NEURONAL SIGNALING DETAILS
# ============================================================================

@:Action_Potential_Initiation graph Neuron Threshold Depolarization
    @ap isProcess ActionPotential
    @rest hasProperty Neuron RestingPotential
    @rest_v equals RestingPotential Minus70mV
    @stimulus receives Neuron Stimulus
    @graded creates Stimulus GradedPotential
    @threshold reaches GradedPotential Threshold
    @thresh_v equals Threshold Minus55mV
    @nav opens Threshold VoltageGatedNaChannels
    @influx causes NAV NaInflux
    @depol causes NaInflux Depolarization
    return And $ap (And $rest (And $rest_v (And $stimulus (And $graded (And $threshold (And $thresh_v (And $nav (And $influx $depol))))))))
end

@:Action_Potential_Propagation graph AxonHillock Axon TerminalBouton
    @prop isProcess APPropagation
    @init initiatesAt ActionPotential AxonHillock
    @local creates Depolarization LocalCircuits
    @adjacent depolarizes LocalCircuits AdjacentMembrane
    @unidirect hasProperty Propagation Unidirectional
    @refract causes Inactivation RefractoryPeriod
    @absolute isType AbsoluteRefractory FirstPhase
    @relative isType RelativeRefractory SecondPhase
    @saltatory hasType Myelinated SaltatoryConduction
    @nodes occurs Saltatory NodesOfRanvier
    return And $prop (And $init (And $local (And $adjacent (And $unidirect (And $refract (And $absolute (And $relative (And $saltatory $nodes))))))))
end

@:Synaptic_Vesicle_Cycle graph Terminal Vesicle Neurotransmitter
    @cycle isProcess SynapticVesicleCycle
    @fill fills VGlut_VAChT Vesicle
    @dock docks Vesicle ActiveZone
    @snare assembles SNARE_Complex Docking
    @vamp contains SNARE VAMP
    @syntax contains SNARE Syntaxin
    @snap25 contains SNARE SNAP25
    @ca enters Calcium Terminal
    @syt binds Synaptotagmin Calcium
    @fuse triggers Synaptotagmin Fusion
    @release releases Fusion Neurotransmitter
    @recycle undergoes Vesicle Endocytosis
    return And $cycle (And $fill (And $dock (And $snare (And $vamp (And $syntax (And $snap25 (And $ca (And $syt (And $fuse (And $release $recycle))))))))))
end

@:Neurotransmitter_Systems graph Neurotransmitter Receptor Effect
    @glu isA Glutamate ExcitatoryNT
    @gaba isA GABA InhibitoryNT
    @dopa isA Dopamine ModulatoryNT
    @sero isA Serotonin ModulatoryNT
    @ach isA Acetylcholine BothTypes
    @ne isA Norepinephrine ModulatoryNT
    @ampa binds Glutamate AMPAReceptor
    @nmda binds Glutamate NMDAReceptor
    @gabaa binds GABA GABAA_Receptor
    @d1d2 binds Dopamine D1_D2_Receptors
    return And $glu (And $gaba (And $dopa (And $sero (And $ach (And $ne (And $ampa (And $nmda (And $gabaa $d1d2))))))))
end

# ============================================================================
# ECOLOGICAL INTERACTIONS DETAILED
# ============================================================================

@:Predator_Prey_Dynamics graph Predator Prey Population
    @dynamics isModel PredatorPreyDynamics
    @lotka describesBy LotkaVolterra Dynamics
    @prey_growth hasParameter Prey IntrinsicGrowthRate
    @pred_mort hasParameter Predator MortalityRate
    @attack hasParameter Interaction AttackRate
    @convert hasParameter Predator ConversionEfficiency
    @oscillate exhibits Populations Oscillations
    @lag lagsBehing Predator PreyOscillation
    @stable reaches System StableEquilibrium
    return And $dynamics (And $lotka (And $prey_growth (And $pred_mort (And $attack (And $convert (And $oscillate (And $lag $stable)))))))
end

@:Keystone_Species graph Species Ecosystem Disproportionate
    @keystone isA KeystoneSpecies EcologicalRole
    @disprop hasEffect Keystone DisproportionateImpact
    @low hasProperty Keystone LowAbundance
    @remove causes Removal EcosystemChange
    @cascade triggers Removal TrophicCascade
    @example1 isA SeaOtter KeystoneSpecies
    @urchin controls SeaOtter SeaUrchin
    @kelp protects UrchinControl KelpForest
    @example2 isA Wolf KeystoneSpecies
    @elk controls Wolf Elk
    @riparian protects ElkControl RiparianVegetation
    return And $keystone (And $disprop (And $low (And $remove (And $cascade (And $example1 (And $urchin (And $kelp (And $example2 (And $elk $riparian)))))))))
end

@:Nitrogen_Fixation_Symbiosis graph Legume Rhizobium Nitrogen
    @symb isA LegumeRhizobium Mutualism
    @root secretes Legume Flavonoids
    @nod induces Flavonoids NodGenes
    @nodfac produces Rhizobium NodFactors
    @curl causes NodFactors RootHairCurling
    @thread forms Rhizobium InfectionThread
    @nodule forms Legume RootNodule
    @bacteroid becomes Rhizobium Bacteroid
    @nitrogenase expresses Bacteroid Nitrogenase
    @fix converts Nitrogenase N2_to_NH3
    @carbon provides Legume Carbon
    @nitrogen provides Rhizobium FixedNitrogen
    return And $symb (And $root (And $nod (And $nodfac (And $curl (And $thread (And $nodule (And $bacteroid (And $nitrogenase (And $fix (And $carbon $nitrogen))))))))))
end

@:Ecological_Succession_Stages graph Pioneer Intermediate Climax
    @succ isProcess EcologicalSuccession
    @pioneer isStage Pioneer Early
    @lichen isA Lichens Pioneer
    @moss isA Mosses Pioneer
    @soil creates Pioneer SoilFormation
    @inter isStage Intermediate Middle
    @shrub dominates Shrubs Intermediate
    @tree_early dominates EarlyTrees Intermediate
    @shade increases Canopy ShadeLevel
    @climax isStage Climax Late
    @stable hasProperty Climax StableCommunity
    @dominant dominates CliMaxSpecies Climax
    @equilib reaches Climax DynamicEquilibrium
    return And $succ (And $pioneer (And $lichen (And $moss (And $soil (And $inter (And $shrub (And $tree_early (And $shade (And $climax (And $stable (And $dominant $equilib)))))))))))
end

# ============================================================================
# EVOLUTIONARY MECHANISMS
# ============================================================================

@:Hardy_Weinberg_Equilibrium graph Population Alleles Frequencies
    @hwe isA HardyWeinberg EvolutionaryModel
    @nosel requires HWE NoSelection
    @nomut requires HWE NoMutation
    @nomig requires HWE NoMigration
    @random requires HWE RandomMating
    @large requires HWE LargePopulation
    @p hasFrequency DominantAllele p
    @q hasFrequency RecessiveAllele q
    @sum equals p_plus_q One
    @geno hasFrequencies Genotypes p2_2pq_q2
    @stable remains Frequencies Constant
    return And $hwe (And $nosel (And $nomut (And $nomig (And $random (And $large (And $p (And $q (And $sum (And $geno $stable)))))))))
end

@:Genetic_Drift_Mechanisms graph Population AlleleFrequency Stochastic
    @drift isA GeneticDrift EvolutionaryForce
    @random hasProperty Drift RandomChange
    @small affects Drift SmallPopulations
    @bottleneck isType Bottleneck DriftEvent
    @disaster causes Disaster Bottleneck
    @reduce reduces Bottleneck GeneticVariation
    @founder isType FounderEffect DriftEvent
    @colonize causes Colonization FounderEffect
    @sample represents Founders PopulationSample
    @fixation leads Drift AlleleFIxation
    @loss leads Drift AlleleLoss
    return And $drift (And $random (And $small (And $bottleneck (And $disaster (And $reduce (And $founder (And $colonize (And $sample (And $fixation $loss)))))))))
end

@:Natural_Selection_Types graph Selection Phenotype Fitness
    @ns isA NaturalSelection EvolutionaryForce
    @direct isType Directional Selection
    @oneextreme favors Directional OneExtreme
    @shift shifts Directional MeanPhenotype
    @stabil isType Stabilizing Selection
    @average favors Stabilizing AveragePhenotype
    @reduce reduces Stabilizing Variance
    @disrupt isType Disruptive Selection
    @bothext favors Disruptive BothExtremes
    @increase increases Disruptive Variance
    @bimodal creates Disruptive BimodalDistribution
    return And $ns (And $direct (And $oneextreme (And $shift (And $stabil (And $average (And $reduce (And $disrupt (And $bothext (And $increase $bimodal)))))))))
end

@:Speciation_Mechanisms graph Population ReproductiveIsolation NewSpecies
    @spec isProcess Speciation
    @allo isType Allopatric Speciation
    @geo requires Allopatric GeographicBarrier
    @diverge causes Isolation GeneticDivergence
    @symp isType Sympatric Speciation
    @nogeo occursWithout Sympatric GeographicBarrier
    @poly causes Polyploidy SympatricSpeciation
    @parap isType Parapatric Speciation
    @partial hasBarrier Parapatric PartialBarrier
    @prezyg isType Prezygotic ReproductiveBarrier
    @postzyg isType Postzygotic ReproductiveBarrier
    @behav isExample BehavioralIsolation Prezygotic
    @hybrid isExample HybridInviability Postzygotic
    return And $spec (And $allo (And $geo (And $diverge (And $symp (And $nogeo (And $poly (And $parap (And $partial (And $prezyg (And $postzyg (And $behav $hybrid)))))))))))
end

# ============================================================================
# ADDITIONAL COMPLEX INFERENCE RULES
# ============================================================================

@:Taxonomy_Transitivity_Extended graph Taxon1 Taxon2 Taxon3 Taxon4
    @r1 belongsTo $Taxon1 $Taxon2
    @r2 belongsTo $Taxon2 $Taxon3
    @r3 belongsTo $Taxon3 $Taxon4
    @premise And $r1 (And $r2 $r3)
    @conclusion belongsTo $Taxon1 $Taxon4
    @rule Implies $premise $conclusion
    return $rule
end

@:Protein_Function_Inference graph Gene Protein Function
    @encodes encodes $Gene $Protein
    @structure determinesFunction Structure $Protein
    @fold hasFold $Protein FoldedStructure
    @active hasProperty $Protein ActiveSite
    @premise And $encodes (And $structure (And $fold $active))
    @conclusion performs $Protein $Function
    @rule Implies $premise $conclusion
    return $rule
end

@:Disease_Pathway_Inference graph Mutation Protein Pathway Disease
    @mut affects $Mutation $Protein
    @prot participatesIn $Protein $Pathway
    @path dysregulates $Pathway CellularProcess
    @premise And $mut (And $prot $path)
    @conclusion causesRiskFor $Mutation $Disease
    @rule Implies $premise $conclusion
    return $rule
end

@:Ecosystem_Cascade_Inference graph Species1 Species2 Species3 Ecosystem
    @pred preyOn $Species1 $Species2
    @pred2 preyOn $Species2 $Species3
    @decline declines $Species1 Population
    @premise And $pred (And $pred2 $decline)
    @cascade causesCascade $decline $Ecosystem
    @rule Implies $premise $cascade
    return $rule
end

@:Evolutionary_Adaptation_Inference graph Environment Trait Species Fitness
    @pressure selectsFor $Environment $Trait
    @possess hasTrait $Species $Trait
    @advantage confers $Trait SelectiveAdvantage
    @premise And $pressure (And $possess $advantage)
    @conclusion increases $Species $Fitness
    @rule Implies $premise $conclusion
    return $rule
end

@:Hormone_Cascade_Inference graph Stimulus Gland Hormone Target Response
    @stim triggers $Stimulus $Gland
    @release releases $Gland $Hormone
    @bind binds $Hormone $Target
    @premise And $stim (And $release $bind)
    @conclusion elicits $Hormone $Response
    @rule Implies $premise $conclusion
    return $rule
end

@:Immune_Response_Inference graph Pathogen APC TCell Antibody
    @infect infects $Pathogen Host
    @present presents $APC Antigen
    @activate activates Antigen $TCell
    @help provides THelper BCell
    @premise And $infect (And $present (And $activate $help))
    @conclusion produces BCell $Antibody
    @rule Implies $premise $conclusion
    return $rule
end

@:Neuronal_Plasticity_Inference graph Synapse Activity Receptor Strength
    @repeat hasProperty $Synapse RepeatedActivation
    @ltp undergoes $Synapse LTP
    @ampa increases LTP AMPAReceptors
    @spine enlarges LTP DendriticSpine
    @premise And $repeat (And $ltp (And $ampa $spine))
    @conclusion strengthens $Synapse Connection
    @rule Implies $premise $conclusion
    return $rule
end

@:Metabolic_Regulation_Inference graph Substrate Enzyme Product Pathway
    @level hasLevel $Substrate HighConcentration
    @induce induces HighConcentration $Enzyme
    @catalyze catalyzes $Enzyme Reaction
    @produce produces Reaction $Product
    @premise And $level (And $induce (And $catalyze $produce))
    @conclusion activates $Substrate $Pathway
    @rule Implies $premise $conclusion
    return $rule
end

@:Gene_Network_Inference graph TF1 Gene1 TF2 Gene2 Phenotype
    @activate1 activates $TF1 $Gene1
    @encode1 encodes $Gene1 $TF2
    @activate2 activates $TF2 $Gene2
    @express produces $Gene2 ProteinProduct
    @premise And $activate1 (And $encode1 (And $activate2 $express))
    @conclusion determines GeneNetwork $Phenotype
    @rule Implies $premise $conclusion
    return $rule
end
